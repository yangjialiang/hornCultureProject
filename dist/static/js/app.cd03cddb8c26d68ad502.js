webpackJsonp([32],{"4or2":function(t,e){},AUQY:function(t,e){},MPzD:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("Dd8w"),a=n.n(o),c=n("aFK5"),i=n.n(c),r=n("//Fk"),s=n.n(r),u=n("7+uW"),l=n("Gu7T"),p=n.n(l),d=n("NYxO"),h={name:"App",data:function(){return{showImg:!1,datasrc:""}},methods:a()({},Object(d.b)(["GET_USER_INFO"]),{remove:function(){event.stopPropagation(),this.showImg=!1}}),created:function(){var t=this;this.$bus.$on("showImg",function(e){t.datasrc=[].concat(p()(e)),t.showImg=!0}),this.GET_USER_INFO(),console.log(this.$store.state.userInfo.userId)}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),t._v(" "),n("mt-popup",{staticClass:"showImg",attrs:{modal:!1,position:"right"},model:{value:t.showImg,callback:function(e){t.showImg=e},expression:"showImg"}},[n("mt-swipe",{staticClass:"homePageswipe",attrs:{auto:0,continuous:!1,"show-indicators":!1}},t._l(t.datasrc,function(e,o){return e?n("mt-swipe-item",{key:o},[n("div",{style:{backgroundImage:"url("+e+")"},on:{click:t.remove}})]):t._e()}))],1)],1)},staticRenderFns:[]};var f=n("VU/8")(h,m,!1,function(t){n("AUQY")},null,null).exports,_=n("/ocq"),g=[{path:"/write",component:function(t){return n.e(15).then(function(){var e=[n("ssrx")];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"cover",component:function(t){return Promise.all([n.e(0),n.e(12)]).then(function(){var e=[n("kTWP")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"club",component:function(t){return Promise.all([n.e(0),n.e(17)]).then(function(){var e=[n("gVXP")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"edit",component:function(t){return n.e(3).then(function(){var e=[n("JGuM")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"preview",component:function(t){return Promise.all([n.e(0),n.e(9)]).then(function(){var e=[n("dqAI")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}],T=[{path:"/post",component:function(t){return n.e(24).then(function(){var e=[n("RUlc")];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"part",component:function(t){return Promise.all([n.e(0),n.e(10)]).then(function(){var e=[n("EoXc")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"edit",component:function(t){return Promise.all([n.e(0),n.e(18)]).then(function(){var e=[n("oOw3")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"club",component:function(t){return n.e(16).then(function(){var e=[n("rI90")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}],I=[{path:"/detail",component:function(t){return Promise.all([n.e(0),n.e(8)]).then(function(){var e=[n("QJR9")];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"club",component:function(t){return n.e(27).then(function(){var e=[n("Oe8h")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"coach",component:function(t){return n.e(25).then(function(){var e=[n("hKKY")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"expert",component:function(t){return n.e(20).then(function(){var e=[n("Vcld")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]},{path:"/auth/club",component:function(t){return Promise.all([n.e(0),n.e(13)]).then(function(){var e=[n("vA/P")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/auth/coach",component:function(t){return Promise.all([n.e(0),n.e(11)]).then(function(){var e=[n("NuEX")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/auth/expert",component:function(t){return Promise.all([n.e(0),n.e(19)]).then(function(){var e=[n("4Ghn")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],P=[{path:"/homePage",component:function(t){return Promise.all([n.e(0),n.e(1)]).then(function(){var e=[n("BWlC")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],E=[{path:"/seeOcean",component:function(t){return Promise.all([n.e(0),n.e(14)]).then(function(){var e=[n("tfXS")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],v=[{path:"/articleDetails/:contId",component:function(t){return Promise.all([n.e(0),n.e(5)]).then(function(){var e=[n("lu5A")];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"/articleDetails/commentPage/:contId/:atUserId",component:function(t){return n.e(0).then(function(){var e=[n("wE2M")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]},{path:"/productArticleDetailsPage/:contId",component:function(t){return Promise.all([n.e(0),n.e(6)]).then(function(){var e=[n("00w2")];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"/productArticleDetailsPage/commentPage/:contId/:atUserId",component:function(t){return n.e(0).then(function(){var e=[n("wE2M")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}],y=[{path:"/rendezvousPage/:id",component:function(t){return Promise.all([n.e(0),n.e(29)]).then(function(){var e=[n("vgnQ")];t.apply(null,e)}.bind(this)).catch(n.oe)}}],S=[{path:"/forumPage",component:function(t){return Promise.all([n.e(0),n.e(23)]).then(function(){var e=[n("38y2")];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"/forumPage/forumDetailsPage/:discussId",component:function(t){return Promise.all([n.e(0),n.e(2)]).then(function(){var e=[n("q/rC")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}],C=[{path:"/personalHomePage",component:function(t){return Promise.all([n.e(0),n.e(7)]).then(function(){var e=[n("3yAT")];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"/personalHomePage/forumPage",component:function(t){return Promise.all([n.e(0),n.e(30)]).then(function(){var e=[n("n1Po")];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"/personalHomePage/forumPage/forumDetailsPage/:discussId",component:function(t){return Promise.all([n.e(0),n.e(2)]).then(function(){var e=[n("q/rC")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]},{path:"/personalHomePage/msg",component:function(t){return Promise.all([n.e(0),n.e(4)]).then(function(){var e=[n("r9ex")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/personalHomePage/collectionPage",component:function(t){return Promise.all([n.e(0),n.e(28)]).then(function(){var e=[n("ycFj")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/personalHomePage/myClub",component:function(t){return Promise.all([n.e(0),n.e(26)]).then(function(){var e=[n("fc0M")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/personalHomePage/publishInfo",component:function(t){return Promise.all([n.e(0),n.e(22)]).then(function(){var e=[n("y7mp")];t.apply(null,e)}.bind(this)).catch(n.oe)}},{path:"/personalHomePage/draft",component:function(t){return Promise.all([n.e(0),n.e(21)]).then(function(){var e=[n("Y7qR")];t.apply(null,e)}.bind(this)).catch(n.oe)}}]}],w=n("Zrlr"),O=n.n(w),b=new function t(){var e=this;O()(this,t),this.trackevent=function(t,e,n,o,a){_czc.push(["_trackEvent",t,e,n,o,a])},this.pageView=function(t,e){_czc.push(["_trackPageview",t,e])},this.setCustomVar=function(t,e,n){_czc.push(["_setCustomVar",t,e,n])},this.setAutoPageview=function(t){_czc.push(["_setAutoPageview",t])},this.responseError=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";e.trackevent("response",t,n,o)}};u.default.use(_.a);var A=new _.a({routes:[{path:"/",name:"index",component:function(t){return Promise.all([n.e(0),n.e(1)]).then(function(){var e=[n("BWlC")];t.apply(null,e)}.bind(this)).catch(n.oe)}}].concat(p()(g),p()(T),p()(I),p()(P),p()(g),p()(E),p()(v),p()(y),p()(S),p()(C))});A.beforeEach(function(t,e,n){b.pageView(t.fullPath,e.fullPath),n()});var D,R,M=A,L=n("mtWM"),U=n.n(L),k=n("mw3O"),G=n.n(k),N=n("bOdI"),x=n.n(N),H={set_wx_code:"SET_WX_CODE",set_token:"SET_TOKEN",set_config_data:"CONFIG_SET_DATA",set_detail:"SET_DETAIL",set_article_data:"WRITE_SET_ARTICLE_DATA",set_post_data:"WRITE_SET_POST_DATA",getUserInfo:"GET_USER_INFO"},Y={state:{AuditStatus:[],ClubType:[],CommentStatus:[],CommentType:[],ContStatus:[],ContType:[],ImgType:[],JoinStatus:[],Like:[],MsgType:[],TagStatus:[],TagType:[]},getters:{},actions:{},mutations:x()({},H.set_config_data,function(t,e){var n=e.data;i()(n).forEach(function(e){t[e]=[],n[e]instanceof Array&&(t[e]=[],n[e].forEach(function(n){var o=n.split(" - ");t[e].push({value:parseInt(o[0]),label:o[1]})}))})})},F=n("woOf"),q=n.n(F),W={state:{article:{productId:0,contType:1,cover:"",clubId:-1,title:"",desc:"",content:""},post:{content:"",preimg:[],tagId:0,clubId:0}},getters:{},actions:{},mutations:(D={},x()(D,H.set_article_data,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{productId:productId,cover:cover,clubId:clubId,title:title,desc:desc,content:content};q()(t.article,e)}),x()(D,H.set_post_data,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{content:content,preimg:preimg,tagId:tagId,clubId:clubId};q()(t.post,e)}),D)},B="http://47.106.76.248:80",$={GET_WX_CONFIG:B+"/mp/jsapi_sign",GET_TOKEN:B+"/mp/oauth",GET_CONFIG:B+"/api/config/enum/list",SEEOCEANTAGLIST_PROT:B+"/api/cont/artcile/tag/list",SEEOCEANLIST_PROT:B+"/api/cont/artcile/list",SEEOCEANARTICLE_PROT:B+"/api/cont/artcile/get",ADDLIKE_PROT:B+"/api/cont/like/add",UPLOAD_IMG:B+"/api/upload/img",ADD_PRODUCT:B+"/api/cont/product/add",HOMEPAGE_PORT:B+"/api/index",ARTICLELIST_PROT:B+"/api/cont/product/list",ARTICLE_PROT:B+"/api/cont/product/get",ARTICLE_DEL:B+"/api/cont/product/del",DISCUSS_TAG_PROT:B+"/api/cont/discuss/tag/list",DISCUSS_LIST_PROT:B+"/api/cont/discuss/list",DISCUSS_DETAILS_PROT:B+"/api/cont/discuss/get",DISCUSS_DEL_PROT:B+"/api/cont/discuss/del",MY_PROT:B+"/api/user/my",MY_DISCUSS_PROT:B+"/api/user/my/cont/discuss",MY_CONT_DRAF:B+"/api/user/my/cont/draf",MY_CONT_MSG:B+"/api/user/my/msg",MY_CONT_LIKE:B+"/api/user/my/cont/like",MY_CONT_PRODUCT:B+"/api/user/my/cont/product",MY_CLUB:B+"/api/user/my/club",MY_CLUB_JOIN:B+"/api/user/my/club/join",COMMENT_LIST_PROT:B+"/api/cont/comment/list",COMMENT_ADD_PROT:B+"/api/cont/comment/add",COMMENT_ADD_REPLY:B+"/api/cont/comment/reply/add",COMMENT_GET_REPLY:B+"/api/cont/comment/reply/list",COMMENT_DEL:B+"/api/cont/comment/del",COMMENT_DEL_REPLY:B+"/api/cont/comment/reply/del",AUTH_COACH:B+"/api/user/my/coach",AUTH_EXPERT:B+"/api/user/my/expert",POST_DISCUSS:B+"/api/cont/discuss/add",GET_CLUB_DETAIL:B+"/api/user/home/club",GET_COACH_DETAIL:B+"/api/user/home/coach",GET_EXPERT_DETAIL:B+"/api/user/home/expert",GET_DISCUSS_LIST:B+"/api/user/home/cont/discuss",GET_PRODUCT_LIST:B+"/api/user/home/cont/product"},z=["游客","达人","教练","俱乐部","俱乐部(虚拟)"],V={setUserInfo:function(t,e){q()(t,e),b.setCustomVar("用户类型",z[t.userType])}},X={state:{auditUserType:"",headimg:"",nickname:"",userId:"",userType:""},getters:{},actions:x()({},H.getUserInfo,function(t){var e=t.commit;t.state;U.a.get($.MY_PROT,{}).then(function(t){var n=t.data;200==t.code&&e("setUserInfo",n)}).catch(function(t){console.log(t.response.data)})}),mutations:V};u.default.use(d.a);var j={token:localStorage.getItem("token"),code:localStorage.getItem("wx_code"),detail:{title:"",id:0}},K=(R={},x()(R,H.set_wx_code,function(t,e){t.code=e,localStorage.setItem("wx_code",t.code)}),x()(R,H.set_token,function(t,e){t.token=e,localStorage.setItem("token",t.token)}),x()(R,H.set_detail,function(t,e){t.detail.title=e.title,t.detail.id=e.id}),R),Q=new d.a.Store({state:j,getters:{},actions:{},mutations:K,modules:{config:Y,userInfo:X,write:W}}),J=n("Au9i"),Z=(n("MPzD"),n("d8/S"),n("muQq"),n("4or2"),n("VDWi")),tt=function(t){return new s.a(function(e,n){J.Indicator.open("图片压缩中"),new Z.a(t,{quality:.8,maxWidth:750,convertSize:2e6,success:function(t){J.Indicator.close(),e(t)},error:function(t){J.MessageBox.alert("图片压缩失败"),n(t)}})})},et={compressorImage:tt,uploadImage:function(t){return new s.a(function(e,n){tt(t).then(function(t){J.Indicator.open("图片上传中");var o=new FormData;o.append("imgType",1),o.append("upload",t,t.name),U.a.post($.UPLOAD_IMG,o).then(function(t){J.Indicator.close(),200===!t.code&&J.MessageBox.alert("图片上传失败"),e(t)}).catch(function(t){J.MessageBox.alert("图片上传失败"),n(t)})})})}};u.default.use(J.InfiniteScroll),u.default.component(J.Swipe.name,J.Swipe),u.default.component(J.SwipeItem.name,J.SwipeItem),u.default.component(J.Cell.name,J.Cell),u.default.component(J.Button.name,J.Button),u.default.component(J.Actionsheet.name,J.Actionsheet),u.default.component(J.Field.name,J.Field),u.default.component(J.Checklist.name,J.Checklist),u.default.component(J.Popup.name,J.Popup),u.default.component(J.DatetimePicker.name,J.DatetimePicker),u.default.component(J.Header.name,J.Header),u.default.config.productionTip=!1,u.default.prototype.$http=U.a,u.default.prototype.$bus=new u.default,u.default.prototype.$qs=G.a,u.default.prototype.$actionType=H,u.default.prototype.$port=$,u.default.prototype.$commons=et;var nt=M.match(location.href).query,ot=function(){Q.commit(H.set_token,""),Q.commit(H.set_wx_code,""),new s.a(function(t,e){U.a.get($.GET_WX_CONFIG,{params:{url:decodeURIComponent(location.href)}}).then(function(n){200===n.code?(location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+n.data.appid+"&redirect_uri="+encodeURIComponent(location.href)+"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect",t(n)):e(n)})})};if(Boolean(nt.code))nt.code&&Q.commit(H.set_wx_code,nt.code instanceof Array?nt.code[0]:nt.code),i()(nt).forEach(function(t){"code"===t||"from"===t||"state"===t?delete nt[t]:nt[t]instanceof Array&&(nt[t]=nt[0])}),location.href=location.href.replace(/[&?#]code=(.)*STATE/g,"");else{U.a.defaults.crossDomain=!0,U.a.defaults.withCredentials=!0,U.a.interceptors.request.use(function(t){return t.params=a()({},t.params,{token:Q.state.token}),t.startTime=(new Date).getTime(),t},function(t){return console.log(t),s.a.reject(t)}),U.a.interceptors.response.use(function(t){if(console.log("interceptors res=",t),403===t.data.code?ot():200!==t.data.code&&b.responseError(t.request.responseURL,t.data.code,t.data.msg),t.config&&t.config.startTime){var e=(new Date).getTime()-t.config.startTime;e>5e3&&b.responseError(t.request.responseURL,"COSTLONGTIME",Math.round(e/5e3))}return t.data},function(t){return console.log(t),t&&t.config?b.responseError(t.config.url,error.code):b.responseError("err url",error.code),s.a.reject(t)});var at=window.sessionStorage.getItem("routersArr")?window.sessionStorage.getItem("routersArr").split("-,-"):[];M.beforeEach(function(t,e,n){at.length>=2&&at[at.length-2]==t.path?at.pop():at[at.length-1]!=t.path&&at.push(t.path),window.sessionStorage.setItem("routersArr",at.join("-,-")),n()}),new s.a(function(t,e){Q.state.token?t({}):Q.state.code?U.a.get($.GET_TOKEN,{params:{code:Q.state.code,state:"state"}}).then(function(n){200===n.code?(Q.commit(H.set_token,n.data),console.log(n.data),t(n)):e()}):e()}).then(function(t){U.a.get($.GET_CONFIG,{params:{token:Q.state.token}}).then(function(t){var e=t.code,n=t.data;t.msg;200===e&&Q.commit(H.set_config_data,{data:n})}),window.$v=new u.default({el:"#app",router:M,store:Q,axios:U.a,components:{App:f},template:"<App/>"})}).catch(function(t){ot()})}},"d8/S":function(t,e){},muQq:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.cd03cddb8c26d68ad502.js.map