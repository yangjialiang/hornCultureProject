webpackJsonp([16],{NDGJ:function(a,t){},NuEX:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("//Fk"),l=e.n(i),c=e("Dd8w"),n=e.n(c),o=e("NYxO"),s=e("TrLn"),r=e("looZ"),d=e("rXpJ"),u={name:"coach",components:{FixedLayout:s.a,Topbar:r.a,FileImage:d.a},data:function(){return{city:"",phone:null,email:"",wxId:"",bankNo:"",institutionName:"",birth:new Date,lang:"",desc:"",headimg:{file:null,base64:"",url:""},mainimg:{file:null,base64:"",url:""},idcardF:{file:null,base64:"",url:""},idcardB:{file:null,base64:"",url:""},coachF:{file:null,base64:"",url:""},coachB:{file:null,base64:"",url:""}}},computed:n()({},Object(o.c)({}),{formatBirth:function(){var a=this.birth.getFullYear(),t=this.birth.getMonth()+1,e=this.birth.getDate();return a+"-"+(t<10?0:"")+t+"-"+(e<10?0:"")+e}}),watch:{},created:function(){var a=this;this.$route.query.coachId&&this.$http.get(this.$port.AUTH_COACH,{params:{coachId:this.$route.query.coachId}}).then(function(t){200===t.code&&(a.city=t.data.city,a.phone=t.data.phone,a.email=t.data.email,a.wxId=t.data.wxId,a.bankNo=t.data.bankNo,a.institutionName=t.data.institutionName,a.birth=new Date(t.data.birth),a.lang=t.data.lang,a.desc=t.data.desc,a.headimg.url=t.data.headimg,a.mainimg.url=t.data.mainimg,a.idcardF.url=t.data.idcardF,a.idcardB.url=t.data.idcardB,a.coachF.url=t.data.coachF,a.coachB.url=t.data.coachB)})},methods:{handDeleteImage:function(a){a.file=null,a.base64="",a.url=""},uploadImg:function(a){var t=this;return new l.a(function(e,i){var l=new FormData;l.append("imgType",1),l.append("upload",a),t.$http.post(t.$port.UPLOAD_IMG,l).then(function(a){e(a)})})},handLoadImg:function(a,t,e){var i=this;console.log("handLoadImg",a,t,e),this[e].file=t,this[e].base64=a.currentTarget.result,this.uploadImg(t).then(function(a){200===a.code?i[e].url=a.data:alert(a.msg)})},handSubmit:function(){var a={city:this.city,phone:this.phone,email:this.email,wxId:this.wxId,bankNo:this.bankNo,institutionName:this.institutionName,birth:this.formatBirth,lang:this.lang,headimg:this.headimg.url,mainimg:this.mainimg.url,idcardF:this.idcardF.url,idcardB:this.idcardB.url,coachF:this.coachF.url,coachB:this.coachB.url,desc:this.desc};this.$http.post(this.$port.AUTH_COACH,this.$qs.stringify(a)).then(function(a){a.code,alert(a.msg)})}}},h={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("fixed-layout",[e("template",{slot:"header"},[e("topbar",[e("template",{slot:"before"},[e("b",{staticClass:"iconfont icon-back",on:{click:function(t){a.$router.go(-1)}}})]),a._v("\n      俱乐部认证\n      "),e("template",{slot:"after"})],2)],1),a._v(" "),e("mt-field",{staticClass:"right",attrs:{type:"tel",label:"联系方式",placeholder:"请填写正确的手机号码用于收取短信"},model:{value:a.phone,callback:function(t){a.phone=t},expression:"phone"}}),a._v(" "),e("mt-field",{staticClass:"right",attrs:{type:"mail",label:"邮箱",placeholder:"请填写邮箱"},model:{value:a.email,callback:function(t){a.email=t},expression:"email"}}),a._v(" "),e("mt-field",{staticClass:"right",attrs:{label:"所属城市",placeholder:"请输入所在城市"},model:{value:a.city,callback:function(t){a.city=t},expression:"city"}}),a._v(" "),e("mt-field",{staticClass:"right",attrs:{label:"微信号",placeholder:"请填写微信号"},model:{value:a.wxId,callback:function(t){a.wxId=t},expression:"wxId"}}),a._v(" "),e("mt-field",{staticClass:"right",attrs:{type:"number",label:"银行账号",placeholder:"请填写银行账号"},model:{value:a.bankNo,callback:function(t){a.bankNo=t},expression:"bankNo"}}),a._v(" "),e("mt-field",{staticClass:"right",attrs:{type:"text",label:"所属机构",placeholder:"请填写您所属的机构"},model:{value:a.institutionName,callback:function(t){a.institutionName=t},expression:"institutionName"}}),a._v(" "),e("mt-cell",{attrs:{title:"生日",value:a.formatBirth,"is-link":""},nativeOn:{click:function(t){a.$refs.pickerBirth.open()}}}),a._v(" "),e("mt-datetime-picker",{ref:"pickerBirth",attrs:{type:"date"},model:{value:a.birth,callback:function(t){a.birth=t},expression:"birth"}}),a._v(" "),e("mt-field",{staticClass:"right",attrs:{type:"text",label:"语言",placeholder:"请填写熟悉的语言"},model:{value:a.lang,callback:function(t){a.lang=t},expression:"lang"}}),a._v(" "),e("mt-cell",{attrs:{title:"上传头像"}}),a._v(" "),e("section",{staticClass:"m-uploads"},[e("ul",[e("li",[a.headimg.url||a.headimg.base64?[e("section",{staticClass:"uploadImage"},[e("img",{attrs:{src:a.headimg.url||a.headimg.base64}}),a._v(" "),e("b",{staticClass:"iconfont icon-close",on:{click:function(t){a.handDeleteImage(a.headimg)}}})])]:[e("file-image",{on:{load:function(t,e){return a.handLoadImg(t,e,"headimg")}}})]],2)])]),a._v(" "),e("mt-cell",{attrs:{title:"个人主页图",value:"请上传横图"}}),a._v(" "),e("section",{staticClass:"m-uploads"},[e("ul",[e("li",[a.mainimg.url||a.mainimg.base64?[e("section",{staticClass:"uploadImage"},[e("img",{attrs:{src:a.mainimg.url||a.mainimg.base64}}),a._v(" "),e("b",{staticClass:"iconfont icon-close",on:{click:function(t){a.handDeleteImage(a.mainimg)}}})])]:[e("file-image",{on:{load:function(t,e){return a.handLoadImg(t,e,"mainimg")}}})]],2)])]),a._v(" "),e("mt-cell",{attrs:{title:"个人简介"}}),a._v(" "),e("mt-field",{attrs:{type:"textarea",placeholder:"请简单介绍下自己，会有更多人对您感兴趣哦"},model:{value:a.desc,callback:function(t){a.desc=t},expression:"desc"}}),a._v(" "),e("mt-cell",{attrs:{title:"上传认证材料",value:"请上传您的身份证正反面和教练证正反面"}}),a._v(" "),e("section",{staticClass:"m-uploads"},[e("ul",[e("li",[a.idcardF.url||a.idcardF.base64?[e("section",{staticClass:"uploadImage"},[e("img",{attrs:{src:a.idcardF.url||a.idcardF.base64}}),a._v(" "),e("b",{staticClass:"iconfont icon-close",on:{click:function(t){a.handDeleteImage(a.idcardF)}}})])]:[e("file-image",{on:{load:function(t,e){return a.handLoadImg(t,e,"idcardF")}}})],a._v(" "),e("h4",[a._v("身份证正面")])],2),a._v(" "),e("li",[a.idcardB.url||a.idcardB.base64?[e("section",{staticClass:"uploadImage"},[e("img",{attrs:{src:a.idcardB.url||a.idcardB.base64}}),a._v(" "),e("b",{staticClass:"iconfont icon-close",on:{click:function(t){a.handDeleteImage(a.idcardB)}}})])]:[e("file-image",{on:{load:function(t,e){return a.handLoadImg(t,e,"idcardB")}}})],a._v(" "),e("h4",[a._v("身份证反面")])],2),a._v(" "),e("li",[a.coachF.url||a.coachF.base64?[e("section",{staticClass:"uploadImage"},[e("img",{attrs:{src:a.coachF.url||a.coachF.base64}}),a._v(" "),e("b",{staticClass:"iconfont icon-close",on:{click:function(t){a.handDeleteImage(a.coachF)}}})])]:[e("file-image",{on:{load:function(t,e){return a.handLoadImg(t,e,"coachF")}}})],a._v(" "),e("h4",[a._v("教练证正面")])],2),a._v(" "),e("li",[a.coachB.url||a.coachB.base64?[e("section",{staticClass:"uploadImage"},[e("img",{attrs:{src:a.coachB.url||a.coachB.base64}}),a._v(" "),e("b",{staticClass:"iconfont icon-close",on:{click:function(t){a.handDeleteImage(a.coachB)}}})])]:[e("file-image",{on:{load:function(t,e){return a.handLoadImg(t,e,"coachB")}}})],a._v(" "),e("h4",[a._v("教练证反面")])],2)])]),a._v(" "),e("section",{staticClass:"ft"},[e("p",{staticClass:"agreement"},[e("input",{attrs:{type:"checkbox"}}),e("a",{attrs:{href:""}},[a._v("同意《号角平台商户服务协议》")])]),a._v(" "),e("mt-button",{attrs:{type:"primary"},on:{click:a.handSubmit}},[a._v("确认")])],1)],2)},staticRenderFns:[]};var m=e("VU/8")(u,h,!1,function(a){e("NDGJ"),e("XL3T")},"data-v-824e40b8",null);t.default=m.exports},XL3T:function(a,t){}});
//# sourceMappingURL=16.e0988c86a490c74ef7cd.js.map