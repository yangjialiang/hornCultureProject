{"version":3,"sources":["webpack:///src/views/auth/expert.vue","webpack:///./src/views/auth/expert.vue?16e4","webpack:///./src/views/auth/expert.vue"],"names":["expert","name","components","FixedLayout","fixed_layout","FileImage2","file_image2","CropperBox","cropper_box","data","cropper","dialog","src","item","ar","agree","city","phone","email","wxId","bankNo","birth","Date","lang","desc","headimg","file","url","mainimg","idcardF","idcardB","certimg","computed","extends_default","Object","vuex_esm","formatBirth","y","this","getFullYear","m","getMonth","d","getDate","watch","created","_this","promise_default","a","resolve","reject","$route","query","expertId","$http","get","$port","AUTH_EXPERT","params","then","res","code","localStorage","getItem","setInterval","setItem","methods","handDeleteImage","obj","uploadImg","_this2","fd","FormData","append","post","UPLOAD_IMG","handLoadImg","e","prop","_this3","setTimeout","target","result","alert","msg","handCropperDone","_this4","getCroppedCanvas","width","height","toBlob","blob","handSubmit","_this5","$qs","stringify","$router","push","auth_expert","render","_vm","_h","$createElement","_c","_self","slot","attrs","title","to","icon","on","click","$event","go","_v","staticClass","type","label","placeholder","model","value","callback","$$v","expression","is-link","nativeOn","$refs","pickerBirth","open","ref","startDate","load","delete","directives","rawName","cancel","done","domProps","checked","Array","isArray","_i","change","$$a","$$el","$$c","$$i","concat","slice","href","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"6NAuGAA,GACAC,KAAA,SACAC,YACAC,YAAAC,EAAA,EACAC,WAAAC,EAAA,EACAC,WAAAC,EAAA,GAEAC,KAPA,WAQA,OACAC,SACAC,QAAA,EACAC,IAAA,GACAC,KAAA,KACAC,GAAA,GAEAC,OAAA,EACAC,KAAA,GACAC,MAAA,KACAC,MAAA,GACAC,KAAA,GACAC,OAAA,GACAC,MAAA,IAAAC,KACAC,KAAA,GACAC,KAAA,GACAC,SACAC,KAAA,KACAC,IAAA,IAEAC,SACAF,KAAA,KACAC,IAAA,IAEAE,SACAH,KAAA,KACAC,IAAA,IAEAG,SACAJ,KAAA,KACAC,IAAA,IAEAI,SACAL,KAAA,KACAC,IAAA,MAIAK,SAAAC,OACAC,OAAAC,EAAA,EAAAD,MACAE,YAFA,WAGA,IAAAC,EAAAC,KAAAjB,MAAAkB,cAAAC,EAAAF,KAAAjB,MAAAoB,WAAA,EAAAC,EAAAJ,KAAAjB,MAAAsB,UACA,OAAAN,EAAA,KAAAG,EAAA,SAAAA,EAAA,KAAAE,EAAA,SAAAA,KAGAE,SACAC,QAtDA,WAsDA,IAAAC,EAAAR,KACA,IAAAS,EAAAC,EAAA,SAAAC,EAAAC,GACA,GAAAJ,EAAAK,OAAAC,MAAAC,SACAP,EAAAQ,MAAAC,IAAAT,EAAAU,MAAAC,aACAC,QACAL,SAAAP,EAAAK,OAAAC,MAAAC,YAEAM,KAAA,SAAAC,GACAA,EAAAnD,KAAAmD,EAAAnD,SACA,MAAAmD,EAAAC,OACAf,EAAA9B,KAAA4C,EAAAnD,KAAAO,KACA8B,EAAA7B,MAAA2C,EAAAnD,KAAAQ,MACA6B,EAAA5B,MAAA0C,EAAAnD,KAAAS,MACA4B,EAAA3B,KAAAyC,EAAAnD,KAAAU,KACA2B,EAAA1B,OAAAwC,EAAAnD,KAAAW,OACA0B,EAAAzB,MAAA,IAAAC,KAAAsC,EAAAnD,KAAAY,OACAyB,EAAAvB,KAAAqC,EAAAnD,KAAAc,KACAuB,EAAAtB,KAAAoC,EAAAnD,KAAAe,KACAsB,EAAArB,QAAAE,IAAAiC,EAAAnD,KAAAgB,QACAqB,EAAAlB,QAAAD,IAAAiC,EAAAnD,KAAAmB,QACAkB,EAAAjB,QAAAF,IAAAiC,EAAAnD,KAAAoB,QACAiB,EAAAhB,QAAAH,IAAAiC,EAAAnD,KAAAqB,QACAgB,EAAAf,QAAAJ,IAAAiC,EAAAnD,KAAAsB,SAEAkB,UAEA,CACA,IAAAhD,EAAA,UACA6C,EAAA9B,KAAA8C,aAAAC,QAAA9D,EAAA,QACA6C,EAAA7B,MAAA6C,aAAAC,QAAA9D,EAAA,SACA6C,EAAA5B,MAAA4C,aAAAC,QAAA9D,EAAA,SACA6C,EAAA3B,KAAA2C,aAAAC,QAAA9D,EAAA,QACA6C,EAAA1B,OAAA0C,aAAAC,QAAA9D,EAAA,UACA6C,EAAAvB,KAAAuC,aAAAC,QAAA9D,EAAA,QACA6C,EAAAtB,KAAAsC,aAAAC,QAAA9D,EAAA,QACAgD,OAEAU,KAAA,WACA,IAAA1D,EAAA,UACA+D,YAAA,WACAF,aAAAG,QAAAhE,EAAA,OAAA6C,EAAA9B,MAAA,IACA8C,aAAAG,QAAAhE,EAAA,QAAA6C,EAAA7B,OAAA,IACA6C,aAAAG,QAAAhE,EAAA,QAAA6C,EAAA5B,OAAA,IACA4C,aAAAG,QAAAhE,EAAA,OAAA6C,EAAA3B,MAAA,IACA2C,aAAAG,QAAAhE,EAAA,SAAA6C,EAAA1B,QAAA,IACA0C,aAAAG,QAAAhE,EAAA,OAAA6C,EAAAvB,MAAA,IACAuC,aAAAG,QAAAhE,EAAA,OAAA6C,EAAAtB,MAAA,KACA,QAGA0C,SACAC,gBADA,SACAC,GACAA,EAAA1C,KAAA,KACA0C,EAAAzC,IAAA,IAEA0C,UALA,SAKA3C,GAAA,IAAA4C,EAAAhC,KACA,WAAAS,EAAAC,EAAA,SAAAC,EAAAC,GACA,IAAAqB,EAAA,IAAAC,SACAD,EAAAE,OAAA,aACAF,EAAAE,OAAA,SAAA/C,GACA4C,EAAAhB,MAAAoB,KAAAJ,EAAAd,MAAAmB,WAAAJ,GAAAZ,KAAA,SAAAC,GACAX,EAAAW,QAIAgB,YAfA,SAeAC,EAAAnD,EAAAoD,GAAA,IAAAC,EAAAzC,KACA,YAAAwC,GACA,YAAAA,GACAxC,KAAA5B,QAAAG,KAAAyB,KAAAwC,GACAxC,KAAA5B,QAAAC,QAAA,EACA,YAAAmE,EACAxC,KAAA5B,QAAAI,GAAA,EACA,YAAAgE,IACAxC,KAAA5B,QAAAI,GAAA,KAEAkE,WAAA,WACAD,EAAArE,QAAAE,IAAAiE,EAAAI,OAAAC,QACA,OAEA5C,KAAAwC,GAAApD,OACAY,KAAA+B,UAAA3C,GAAAiC,KAAA,SAAAC,GACA,MAAAA,EAAAC,KACAkB,EAAAD,GAAAnD,IAAAiC,EAAAnD,KAEA0E,MAAAvB,EAAAwB,SAKAC,gBAvCA,SAuCA3E,GAAA,IAAA4E,EAAAhD,KACA5B,EAAA6E,kBACAC,MAAA,IACAC,OAAA,MAEAC,OAAA,SAAAC,GACA,IAAApB,EAAA,IAAAC,SACAD,EAAAE,OAAA,aACAF,EAAAE,OAAA,SAAAkB,GACAL,EAAAhC,MAAAoB,KAAAY,EAAA9B,MAAAmB,WAAAJ,GAAAZ,KAAA,SAAAC,GACA,MAAAA,EAAAC,MACAyB,EAAA5E,QAAAC,QAAA,EACA2E,EAAA5E,QAAAG,KAAAc,IAAAiC,EAAAnD,MAEA0E,MAAAvB,EAAAwB,UAKAQ,WA1DA,WA0DA,IAAAC,EAAAvD,KACA,GAAAA,KAAAvB,MAAA,CAIA,IAAA2C,GACA1C,KAAAsB,KAAAtB,KACAC,MAAAqB,KAAArB,MACAC,MAAAoB,KAAApB,MACAC,KAAAmB,KAAAnB,KACAC,OAAAkB,KAAAlB,OACAC,MAAAiB,KAAAF,YACAb,KAAAe,KAAAf,KACAC,KAAAc,KAAAd,KACAC,QAAAa,KAAAb,QAAAE,IACAC,QAAAU,KAAAV,QAAAD,IACAE,QAAAS,KAAAT,QAAAF,IACAG,QAAAQ,KAAAR,QAAAH,IACAI,QAAAO,KAAAP,QAAAJ,KAEAW,KAAAgB,MAAAoB,KAAApC,KAAAkB,MAAAC,YAAAnB,KAAAwD,IAAAC,UAAArC,IAAAC,KAAA,SAAAC,GACA,MAAAA,EAAAC,MACAsB,MAAA,QACAU,EAAAG,QAAAC,KAAA,MAEAd,MAAAvB,EAAAwB,YAvBAD,MAAA,mBCxQAe,GADiBC,OAFjB,WAA0B,IAAAC,EAAA9D,KAAa+D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,gBAAAA,EAAA,YAAyCE,KAAA,WAAcF,EAAA,aAAkBG,OAAOC,MAAA,UAAgBJ,EAAA,eAAoBG,OAAOD,KAAA,OAAAG,GAAA,KAAuBH,KAAA,SAAaF,EAAA,aAAkBG,OAAOG,KAAA,QAAcC,IAAKC,MAAA,SAAAC,GAAyBZ,EAAAJ,QAAAiB,IAAA,QAAqB,WAAAb,EAAAc,GAAA,KAAAX,EAAA,YAAyCY,YAAA,QAAAT,OAA2BU,KAAA,MAAAC,MAAA,OAAAC,YAAA,cAAuDC,OAAQC,MAAApB,EAAA,MAAAqB,SAAA,SAAAC,GAA2CtB,EAAAnF,MAAAyG,GAAcC,WAAA,WAAqBvB,EAAAc,GAAA,KAAAX,EAAA,YAA6BY,YAAA,QAAAT,OAA2BU,KAAA,OAAAC,MAAA,KAAAC,YAAA,SAAiDC,OAAQC,MAAApB,EAAA,MAAAqB,SAAA,SAAAC,GAA2CtB,EAAAlF,MAAAwG,GAAcC,WAAA,WAAqBvB,EAAAc,GAAA,KAAAX,EAAA,YAA6BY,YAAA,QAAAT,OAA2BW,MAAA,OAAAC,YAAA,WAAuCC,OAAQC,MAAApB,EAAA,KAAAqB,SAAA,SAAAC,GAA0CtB,EAAApF,KAAA0G,GAAaC,WAAA,UAAoBvB,EAAAc,GAAA,KAAAX,EAAA,YAA6BY,YAAA,QAAAT,OAA2BW,MAAA,MAAAC,YAAA,UAAqCC,OAAQC,MAAApB,EAAA,KAAAqB,SAAA,SAAAC,GAA0CtB,EAAAjF,KAAAuG,GAAaC,WAAA,UAAoBvB,EAAAc,GAAA,KAAAX,EAAA,YAA6BY,YAAA,QAAAT,OAA2BU,KAAA,SAAAC,MAAA,OAAAC,YAAA,WAAuDC,OAAQC,MAAApB,EAAA,OAAAqB,SAAA,SAAAC,GAA4CtB,EAAAhF,OAAAsG,GAAeC,WAAA,YAAsBvB,EAAAc,GAAA,KAAAX,EAAA,WAA4BG,OAAOC,MAAA,KAAAa,MAAApB,EAAAhE,YAAAwF,UAAA,IAAkDC,UAAWd,MAAA,SAAAC,GAAyBZ,EAAA0B,MAAAC,YAAAC,WAA+B5B,EAAAc,GAAA,KAAAX,EAAA,sBAAuC0B,IAAA,cAAAvB,OAAyBwB,UAAA,IAAA5G,KAAA,QAAA8F,KAAA,QAA2CG,OAAQC,MAAApB,EAAA,MAAAqB,SAAA,SAAAC,GAA2CtB,EAAA/E,MAAAqG,GAAcC,WAAA,WAAqBvB,EAAAc,GAAA,KAAAX,EAAA,YAA6BY,YAAA,QAAAT,OAA2BU,KAAA,OAAAC,MAAA,KAAAC,YAAA,YAAoDC,OAAQC,MAAApB,EAAA,KAAAqB,SAAA,SAAAC,GAA0CtB,EAAA7E,KAAAmG,GAAaC,WAAA,UAAoBvB,EAAAc,GAAA,KAAAX,EAAA,WAA4BG,OAAOC,MAAA,UAAgBP,EAAAc,GAAA,KAAAX,EAAA,WAA4BY,YAAA,cAAwBZ,EAAA,MAAAA,EAAA,MAAAA,EAAA,eAAsCG,OAAO9F,IAAAwF,EAAA3E,QAAAE,KAAsBmF,IAAKqB,KAAA,SAAAtD,EAAAnD,GAAyB,OAAA0E,EAAAxB,YAAAC,EAAAnD,EAAA,YAA4C0G,OAAA,SAAApB,GAA2BZ,EAAAjC,gBAAAiC,EAAA3E,cAAmC,OAAA2E,EAAAc,GAAA,KAAAX,EAAA,WAAoCG,OAAOC,MAAA,QAAAa,MAAA,WAAiCpB,EAAAc,GAAA,KAAAX,EAAA,WAA4BY,YAAA,cAAwBZ,EAAA,MAAAA,EAAA,MAAAA,EAAA,eAAsCG,OAAO9F,IAAAwF,EAAAxE,QAAAD,KAAsBmF,IAAKqB,KAAA,SAAAtD,EAAAnD,GAAyB,OAAA0E,EAAAxB,YAAAC,EAAAnD,EAAA,YAA4C0G,OAAA,SAAApB,GAA2BZ,EAAAjC,gBAAAiC,EAAAxE,cAAmC,OAAAwE,EAAAc,GAAA,KAAAX,EAAA,WAAoCG,OAAOC,MAAA,UAAgBP,EAAAc,GAAA,KAAAX,EAAA,YAA6BG,OAAOU,KAAA,WAAAE,YAAA,wBAAuDC,OAAQC,MAAApB,EAAA,KAAAqB,SAAA,SAAAC,GAA0CtB,EAAA5E,KAAAkG,GAAaC,WAAA,UAAoBvB,EAAAc,GAAA,KAAAX,EAAA,WAA4BG,OAAOC,MAAA,SAAAa,MAAA,mBAA0CpB,EAAAc,GAAA,KAAAX,EAAA,WAA4BY,YAAA,cAAwBZ,EAAA,MAAAA,EAAA,MAAAA,EAAA,eAAsCG,OAAO9F,IAAAwF,EAAAvE,QAAAF,KAAsBmF,IAAKqB,KAAA,SAAAtD,EAAAnD,GAAyB,OAAA0E,EAAAxB,YAAAC,EAAAnD,EAAA,YAA4C0G,OAAA,SAAApB,GAA2BZ,EAAAjC,gBAAAiC,EAAAvE,aAAmCuE,EAAAc,GAAA,KAAAX,EAAA,MAAAH,EAAAc,GAAA,eAAAd,EAAAc,GAAA,KAAAX,EAAA,MAAAA,EAAA,eAAoFG,OAAO9F,IAAAwF,EAAAtE,QAAAH,KAAsBmF,IAAKqB,KAAA,SAAAtD,EAAAnD,GAAyB,OAAA0E,EAAAxB,YAAAC,EAAAnD,EAAA,YAA4C0G,OAAA,SAAApB,GAA2BZ,EAAAjC,gBAAAiC,EAAAtE,aAAmCsE,EAAAc,GAAA,KAAAX,EAAA,MAAAH,EAAAc,GAAA,eAAAd,EAAAc,GAAA,KAAAX,EAAA,MAAAA,EAAA,eAAoFG,OAAO9F,IAAAwF,EAAArE,QAAAJ,KAAsBmF,IAAKqB,KAAA,SAAAtD,EAAAnD,GAAyB,OAAA0E,EAAAxB,YAAAC,EAAAnD,EAAA,YAA4C0G,OAAA,SAAApB,GAA2BZ,EAAAjC,gBAAAiC,EAAArE,aAAmCqE,EAAAc,GAAA,KAAAX,EAAA,MAAAH,EAAAc,GAAA,kBAAAd,EAAAc,GAAA,KAAAX,EAAA,eAA8E8B,aAAapI,KAAA,OAAAqI,QAAA,SAAAd,MAAApB,EAAA1F,QAAA,OAAAiH,WAAA,mBAAoFR,YAAA,cAAAT,OAAmC9F,IAAAwF,EAAA1F,QAAAE,IAAAE,GAAAsF,EAAA1F,QAAAI,IAA0CgG,IAAKyB,OAAA,SAAAvB,GAA0BZ,EAAA1F,QAAAC,QAAA,GAA2B6H,KAAApC,EAAAf,mBAA6Be,EAAAc,GAAA,KAAAX,EAAA,WAA4BY,YAAA,OAAiBZ,EAAA,KAAUY,YAAA,cAAwBZ,EAAA,SAAc8B,aAAapI,KAAA,QAAAqI,QAAA,UAAAd,MAAApB,EAAA,MAAAuB,WAAA,UAAoEjB,OAASU,KAAA,YAAkBqB,UAAWC,QAAAC,MAAAC,QAAAxC,EAAArF,OAAAqF,EAAAyC,GAAAzC,EAAArF,MAAA,SAAAqF,EAAA,OAAyEU,IAAKgC,OAAA,SAAA9B,GAA0B,IAAA+B,EAAA3C,EAAArF,MAAAiI,EAAAhC,EAAA/B,OAAAgE,IAAAD,EAAAN,QAAqE,GAAAC,MAAAC,QAAAG,GAAA,CAAuB,IAAAG,EAAA9C,EAAAyC,GAAAE,EAAA,MAAiCC,EAAAN,QAAiBQ,EAAA,IAAA9C,EAAArF,MAAAgI,EAAAI,QAAlD,QAA4FD,GAAA,IAAA9C,EAAArF,MAAAgI,EAAAK,MAAA,EAAAF,GAAAC,OAAAJ,EAAAK,MAAAF,EAAA,UAAoE9C,EAAArF,MAAAkI,MAAiB1C,EAAA,KAAUG,OAAO2C,KAAA,MAAWjD,EAAAc,GAAA,sBAAAd,EAAAc,GAAA,KAAAX,EAAA,aAA2DG,OAAO4C,UAAAlD,EAAArF,MAAAqG,KAAA,WAAuCN,IAAKC,MAAAX,EAAAR,cAAwBQ,EAAAc,GAAA,iBAEr/IqC,oBCEjB,IAcAC,EAdAC,EAAA,OAcAC,CACA1J,EACAkG,GATA,EAXA,SAAAyD,GACAF,EAAA,QACAA,EAAA,SAaA,kBAEA,MAUAG,EAAA,QAAAJ,EAAA","file":"static/js/12.109f61e4c7e2b9c09314.js","sourcesContent":["<template>\r\n  <fixed-layout>\r\n    <template slot=\"header\">\r\n      <mt-header title=\"达人认证\">\r\n        <router-link to=\"/\" slot=\"left\">\r\n          <mt-button icon=\"back\" @click=\"$router.go(-1)\"></mt-button>\r\n        </router-link>\r\n      </mt-header>\r\n    </template>\r\n    <mt-field type=\"tel\" label=\"联系方式\" placeholder=\"请填写正确的手机号码\" class=\"right\" v-model=\"phone\"></mt-field>\r\n    <mt-field type=\"mail\" label=\"邮箱\" placeholder=\"请填写邮箱\" class=\"right\" v-model=\"email\"></mt-field>\r\n    <mt-field label=\"所属城市\" placeholder=\"请输入所在城市\" class=\"right\" v-model=\"city\"></mt-field>\r\n    <mt-field label=\"微信号\" placeholder=\"请填写微信号\" class=\"right\" v-model=\"wxId\"></mt-field>\r\n    <mt-field type=\"number\" label=\"银行账号\" placeholder=\"请填写银行账号\" class=\"right\" v-model=\"bankNo\"></mt-field>\r\n    <mt-cell\r\n      title=\"生日\"\r\n      :value=\"formatBirth\"\r\n      is-link\r\n      @click.native=\"$refs.pickerBirth.open()\">\r\n    </mt-cell>\r\n    <mt-datetime-picker\r\n      :startDate=\"new Date('1900')\"\r\n      ref=\"pickerBirth\"\r\n      type=\"date\"\r\n      v-model=\"birth\">\r\n    </mt-datetime-picker>\r\n    <mt-field type=\"text\" label=\"语言\" placeholder=\"请填写熟悉的语言\" class=\"right\" v-model=\"lang\"></mt-field>\r\n    <mt-cell title=\"上传头像\"></mt-cell>\r\n    <section class=\"m-uploads\">\r\n      <ul>\r\n        <li>\r\n          <file-image2\r\n            :src=\"headimg.url\"\r\n            @load=\"(e,file)=>handLoadImg(e,file,'headimg')\"\r\n            @delete=\"handDeleteImage(headimg)\">\r\n          </file-image2>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n    <mt-cell title=\"个人主页图\" value=\"请上传横图\"></mt-cell>\r\n    <section class=\"m-uploads\">\r\n      <ul>\r\n        <li>\r\n          <file-image2\r\n            :src=\"mainimg.url\"\r\n            @load=\"(e,file)=>handLoadImg(e,file,'mainimg')\"\r\n            @delete=\"handDeleteImage(mainimg)\">\r\n          </file-image2>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n    <mt-cell title=\"个人简介\"></mt-cell>\r\n    <mt-field type=\"textarea\" placeholder=\"请简单介绍下自己，会有更多人对您感兴趣哦\" v-model=\"desc\"></mt-field>\r\n    <mt-cell title=\"上传认证材料\" value=\"身份证正反面和达人证正反面\"></mt-cell>\r\n    <section class=\"m-uploads\">\r\n      <ul>\r\n        <li>\r\n          <file-image2\r\n            :src=\"idcardF.url\"\r\n            @load=\"(e,file)=>handLoadImg(e,file,'idcardF')\"\r\n            @delete=\"handDeleteImage(idcardF)\">\r\n          </file-image2>\r\n          <h4>身份证正面</h4>\r\n        </li>\r\n        <li>\r\n          <file-image2\r\n            :src=\"idcardB.url\"\r\n            @load=\"(e,file)=>handLoadImg(e,file,'idcardB')\"\r\n            @delete=\"handDeleteImage(idcardB)\">\r\n          </file-image2>\r\n          <h4>身份证反面</h4>\r\n        </li>\r\n        <li>\r\n          <file-image2\r\n            :src=\"certimg.url\"\r\n            @load=\"(e,file)=>handLoadImg(e,file,'certimg')\"\r\n            @delete=\"handDeleteImage(certimg)\">\r\n          </file-image2>\r\n          <h4>相关证件</h4>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n    <cropper-box\r\n      v-show=\"cropper.dialog\"\r\n      class=\"cropper-box\"\r\n      :src=\"cropper.src\"\r\n      :ar=\"cropper.ar\"\r\n      @cancel=\"cropper.dialog = false\"\r\n      @done=\"handCropperDone\">\r\n    </cropper-box>\r\n    <section class=\"ft\">\r\n      <p class=\"agreement\"><input type=\"checkbox\" v-model=\"agree\"/><a href=\"\">同意《号角平台商户服务协议》</a></p>\r\n      <mt-button :disabled=\"!agree\" type=\"primary\" @click=\"handSubmit\">确认</mt-button>\r\n    </section>\r\n  </fixed-layout>\r\n</template>\r\n\r\n<script>\r\n  import { mapState } from 'vuex'\r\n  import FixedLayout from '@/components/fixed-layout'\r\n  import FileImage2 from '@/components/file-image2.vue'\r\n  import CropperBox from '@/components/cropper-box.vue'\r\n\r\n  export default {\r\n    name: 'expert',\r\n    components: {\r\n      FixedLayout,\r\n      FileImage2,\r\n      CropperBox,\r\n    },\r\n    data () {\r\n      return {\r\n        cropper: {\r\n          dialog: false,\r\n          src: '',\r\n          item: null,\r\n          ar: 1,\r\n        },\r\n        agree: false,\r\n        city: '',\r\n        phone: null,\r\n        email: '',\r\n        wxId: '',\r\n        bankNo: '',\r\n        birth: new Date(),\r\n        lang: '',\r\n        desc: '',\r\n        headimg: {\r\n          file: null,\r\n          url: ''\r\n        },\r\n        mainimg: {\r\n          file: null,\r\n          url: ''\r\n        },\r\n        idcardF: {\r\n          file: null,\r\n          url: ''\r\n        },\r\n        idcardB: {\r\n          file: null,\r\n          url: ''\r\n        },\r\n        certimg: {\r\n          file: null,\r\n          url: ''\r\n        },\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({}),\r\n      formatBirth () {\r\n        let y = this.birth.getFullYear(), m = this.birth.getMonth() + 1, d = this.birth.getDate()\r\n        return `${y}-${m < 10 ? 0 : ''}${m}-${d < 10 ? 0 : ''}${d}`\r\n      }\r\n    },\r\n    watch: {},\r\n    created () {\r\n      new Promise((resolve, reject) => {\r\n        if (this.$route.query.expertId) {\r\n          this.$http.get(this.$port.AUTH_EXPERT, {\r\n            params: {\r\n              expertId: this.$route.query.expertId\r\n            }\r\n          }).then(res => {\r\n            res.data = res.data || {}\r\n            if (res.code === 200) {\r\n              this.city = res.data.city\r\n              this.phone = res.data.phone\r\n              this.email = res.data.email\r\n              this.wxId = res.data.wxId\r\n              this.bankNo = res.data.bankNo\r\n              this.birth = new Date(res.data.birth)\r\n              this.lang = res.data.lang\r\n              this.desc = res.data.desc\r\n              this.headimg.url = res.data.headimg\r\n              this.mainimg.url = res.data.mainimg\r\n              this.idcardF.url = res.data.idcardF\r\n              this.idcardB.url = res.data.idcardB\r\n              this.certimg.url = res.data.certimg\r\n            }\r\n            resolve()\r\n          })\r\n        } else {\r\n          let name = 'expert_'\r\n          this.city = localStorage.getItem(`${name}city`)\r\n          this.phone = localStorage.getItem(`${name}phone`)\r\n          this.email = localStorage.getItem(`${name}email`)\r\n          this.wxId = localStorage.getItem(`${name}wxId`)\r\n          this.bankNo = localStorage.getItem(`${name}bankNo`)\r\n          this.lang = localStorage.getItem(`${name}lang`)\r\n          this.desc = localStorage.getItem(`${name}desc`)\r\n          resolve()\r\n        }\r\n      }).then(() => {\r\n        let name = 'expert_'\r\n        setInterval(() => {\r\n          localStorage.setItem(`${name}city`, this.city || '')\r\n          localStorage.setItem(`${name}phone`, this.phone || '')\r\n          localStorage.setItem(`${name}email`, this.email || '')\r\n          localStorage.setItem(`${name}wxId`, this.wxId || '')\r\n          localStorage.setItem(`${name}bankNo`, this.bankNo || '')\r\n          localStorage.setItem(`${name}lang`, this.lang || '')\r\n          localStorage.setItem(`${name}desc`, this.desc || '')\r\n        }, 200)\r\n      })\r\n    },\r\n    methods: {\r\n      handDeleteImage (obj) {\r\n        obj.file = null\r\n        obj.url = ''\r\n      },\r\n      uploadImg (file) {\r\n        return new Promise((resolve, reject) => {\r\n          let fd = new FormData()\r\n          fd.append('imgType', 1)\r\n          fd.append('upload', file)\r\n          this.$http.post(this.$port.UPLOAD_IMG, fd).then(res => {\r\n            resolve(res)\r\n          })\r\n        })\r\n      },\r\n      handLoadImg (e, file, prop) {\r\n        if (prop === 'headimg' ||\r\n          prop === 'mainimg') {\r\n          this.cropper.item = this[prop]\r\n          this.cropper.dialog = true\r\n          if (prop === 'headimg') {\r\n            this.cropper.ar = 1\r\n          } else if (prop === 'mainimg') {\r\n            this.cropper.ar = 3 / 2\r\n          }\r\n          setTimeout(() => {\r\n            this.cropper.src = e.target.result\r\n          }, 200)\r\n        } else {\r\n          this[prop].file = file\r\n          this.uploadImg(file).then(res => {\r\n            if (res.code === 200) {\r\n              this[prop].url = res.data\r\n            } else {\r\n              alert(res.msg)\r\n            }\r\n          })\r\n        }\r\n      },\r\n      handCropperDone (cropper) {\r\n        let cas = cropper.getCroppedCanvas({\r\n          width: 350,\r\n          height: 350\r\n        })\r\n        cas.toBlob(blob => {\r\n          let fd = new FormData()\r\n          fd.append('imgType', 1)\r\n          fd.append('upload', blob)\r\n          this.$http.post(this.$port.UPLOAD_IMG, fd).then(res => {\r\n            if (res.code === 200) {\r\n              this.cropper.dialog = false\r\n              this.cropper.item.url = res.data\r\n            } else {\r\n              alert(res.msg)\r\n            }\r\n          })\r\n        })\r\n      },\r\n      handSubmit () {\r\n        if (!this.agree) {\r\n          alert('同意服务协议才能提供服务')\r\n          return\r\n        }\r\n        let params = {\r\n          city: this.city,\r\n          phone: this.phone,\r\n          email: this.email,\r\n          wxId: this.wxId,\r\n          bankNo: this.bankNo,\r\n          birth: this.formatBirth,\r\n          lang: this.lang,\r\n          desc: this.desc,\r\n          headimg: this.headimg.url,\r\n          mainimg: this.mainimg.url,\r\n          idcardF: this.idcardF.url,\r\n          idcardB: this.idcardB.url,\r\n          certimg: this.certimg.url,\r\n        }\r\n        this.$http.post(this.$port.AUTH_EXPERT, this.$qs.stringify(params)).then(res => {\r\n          if (res.code === 200) {\r\n            alert('认证成功')\r\n            this.$router.push('/')\r\n          } else {\r\n            alert(res.msg)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\">\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  .m-uploads {\r\n    background-color: #fff;\r\n    padding: 0 10px;\r\n    ul {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      li {\r\n        position: relative;\r\n        flex: 1;\r\n        b {\r\n          background-color: rgba(0, 0, 0, 0.5);\r\n          text-align: center;\r\n          font-weight: 400;\r\n          font-size: 8px;\r\n          color: #fff;\r\n          width: 20px;\r\n          height: 20px;\r\n          position: absolute;\r\n          right: 0;\r\n          top: 0;\r\n        }\r\n        h4 {\r\n          font-size: 12px;\r\n          text-align: center;\r\n          font-weight: 400;\r\n          color: #333;\r\n          padding-top: 5px;\r\n        }\r\n      }\r\n    }\r\n    .ui-upload {\r\n      width: 110px;\r\n      height: 110px;\r\n    }\r\n  }\r\n\r\n  .uploadImage {\r\n    width: 110px;\r\n    height: 110px;\r\n    border: solid #e5e5e5 1px;\r\n    position: relative;\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: contain;\r\n      display: block;\r\n    }\r\n  }\r\n\r\n  .ft {\r\n    padding: 15px 10px;\r\n    border-top: solid #e5e5e5 1px;\r\n    .agreement {\r\n      font-size: 12px;\r\n      margin-bottom: 10px;\r\n      input[type='checkbox'] {\r\n        margin-right: 5px;\r\n        vertical-align: middle;\r\n      }\r\n    }\r\n    .mint-button {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  .mint-cell-wrapper {\r\n    .mint-cell-value {\r\n      font-size: 12px;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/auth/expert.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('fixed-layout',[_c('template',{slot:\"header\"},[_c('mt-header',{attrs:{\"title\":\"达人认证\"}},[_c('router-link',{attrs:{\"slot\":\"left\",\"to\":\"/\"},slot:\"left\"},[_c('mt-button',{attrs:{\"icon\":\"back\"},on:{\"click\":function($event){_vm.$router.go(-1)}}})],1)],1)],1),_vm._v(\" \"),_c('mt-field',{staticClass:\"right\",attrs:{\"type\":\"tel\",\"label\":\"联系方式\",\"placeholder\":\"请填写正确的手机号码\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"right\",attrs:{\"type\":\"mail\",\"label\":\"邮箱\",\"placeholder\":\"请填写邮箱\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"right\",attrs:{\"label\":\"所属城市\",\"placeholder\":\"请输入所在城市\"},model:{value:(_vm.city),callback:function ($$v) {_vm.city=$$v},expression:\"city\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"right\",attrs:{\"label\":\"微信号\",\"placeholder\":\"请填写微信号\"},model:{value:(_vm.wxId),callback:function ($$v) {_vm.wxId=$$v},expression:\"wxId\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"right\",attrs:{\"type\":\"number\",\"label\":\"银行账号\",\"placeholder\":\"请填写银行账号\"},model:{value:(_vm.bankNo),callback:function ($$v) {_vm.bankNo=$$v},expression:\"bankNo\"}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"生日\",\"value\":_vm.formatBirth,\"is-link\":\"\"},nativeOn:{\"click\":function($event){_vm.$refs.pickerBirth.open()}}}),_vm._v(\" \"),_c('mt-datetime-picker',{ref:\"pickerBirth\",attrs:{\"startDate\":new Date('1900'),\"type\":\"date\"},model:{value:(_vm.birth),callback:function ($$v) {_vm.birth=$$v},expression:\"birth\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"right\",attrs:{\"type\":\"text\",\"label\":\"语言\",\"placeholder\":\"请填写熟悉的语言\"},model:{value:(_vm.lang),callback:function ($$v) {_vm.lang=$$v},expression:\"lang\"}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"上传头像\"}}),_vm._v(\" \"),_c('section',{staticClass:\"m-uploads\"},[_c('ul',[_c('li',[_c('file-image2',{attrs:{\"src\":_vm.headimg.url},on:{\"load\":function (e,file){ return _vm.handLoadImg(e,file,'headimg'); },\"delete\":function($event){_vm.handDeleteImage(_vm.headimg)}}})],1)])]),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"个人主页图\",\"value\":\"请上传横图\"}}),_vm._v(\" \"),_c('section',{staticClass:\"m-uploads\"},[_c('ul',[_c('li',[_c('file-image2',{attrs:{\"src\":_vm.mainimg.url},on:{\"load\":function (e,file){ return _vm.handLoadImg(e,file,'mainimg'); },\"delete\":function($event){_vm.handDeleteImage(_vm.mainimg)}}})],1)])]),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"个人简介\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请简单介绍下自己，会有更多人对您感兴趣哦\"},model:{value:(_vm.desc),callback:function ($$v) {_vm.desc=$$v},expression:\"desc\"}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"上传认证材料\",\"value\":\"身份证正反面和达人证正反面\"}}),_vm._v(\" \"),_c('section',{staticClass:\"m-uploads\"},[_c('ul',[_c('li',[_c('file-image2',{attrs:{\"src\":_vm.idcardF.url},on:{\"load\":function (e,file){ return _vm.handLoadImg(e,file,'idcardF'); },\"delete\":function($event){_vm.handDeleteImage(_vm.idcardF)}}}),_vm._v(\" \"),_c('h4',[_vm._v(\"身份证正面\")])],1),_vm._v(\" \"),_c('li',[_c('file-image2',{attrs:{\"src\":_vm.idcardB.url},on:{\"load\":function (e,file){ return _vm.handLoadImg(e,file,'idcardB'); },\"delete\":function($event){_vm.handDeleteImage(_vm.idcardB)}}}),_vm._v(\" \"),_c('h4',[_vm._v(\"身份证反面\")])],1),_vm._v(\" \"),_c('li',[_c('file-image2',{attrs:{\"src\":_vm.certimg.url},on:{\"load\":function (e,file){ return _vm.handLoadImg(e,file,'certimg'); },\"delete\":function($event){_vm.handDeleteImage(_vm.certimg)}}}),_vm._v(\" \"),_c('h4',[_vm._v(\"相关证件\")])],1)])]),_vm._v(\" \"),_c('cropper-box',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cropper.dialog),expression:\"cropper.dialog\"}],staticClass:\"cropper-box\",attrs:{\"src\":_vm.cropper.src,\"ar\":_vm.cropper.ar},on:{\"cancel\":function($event){_vm.cropper.dialog = false},\"done\":_vm.handCropperDone}}),_vm._v(\" \"),_c('section',{staticClass:\"ft\"},[_c('p',{staticClass:\"agreement\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.agree),expression:\"agree\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.agree)?_vm._i(_vm.agree,null)>-1:(_vm.agree)},on:{\"change\":function($event){var $$a=_vm.agree,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.agree=$$a.concat([$$v]))}else{$$i>-1&&(_vm.agree=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.agree=$$c}}}}),_c('a',{attrs:{\"href\":\"\"}},[_vm._v(\"同意《号角平台商户服务协议》\")])]),_vm._v(\" \"),_c('mt-button',{attrs:{\"disabled\":!_vm.agree,\"type\":\"primary\"},on:{\"click\":_vm.handSubmit}},[_vm._v(\"确认\")])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9ef69e16\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/auth/expert.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9ef69e16\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./expert.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9ef69e16\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./expert.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./expert.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./expert.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9ef69e16\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./expert.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9ef69e16\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/auth/expert.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}