webpackJsonp([10],{"4Ghn":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("//Fk"),l=e.n(i),n=e("Dd8w"),c=e.n(n),s=e("NYxO"),r=e("TrLn"),o=e("looZ"),d=e("rXpJ"),m={name:"expert",components:{FixedLayout:r.a,Topbar:o.a,FileImage:d.a},data:function(){return{city:"",phone:null,email:"",wxId:"",bankNo:"",birth:new Date,lang:"",desc:"",headimg:{file:null,base64:"",url:""},mainimg:{file:null,base64:"",url:""},idcardF:{file:null,base64:"",url:""},idcardB:{file:null,base64:"",url:""},certimg:{file:null,base64:"",url:""}}},computed:c()({},Object(s.c)({}),{formatBirth:function(){return this.birth.getFullYear()+"-"+(this.birth.getMonth()+1)+"-"+this.birth.getDate()}}),watch:{},created:function(){var t=this;this.$route.query.expertId&&this.$http.get(this.$port.AUTH_EXPERT,{params:{expertId:this.$route.query.expertId}}).then(function(a){200===a.code&&(t.city=a.data.city,t.phone=a.data.phone,t.email=a.data.email,t.wxId=a.data.wxId,t.bankNo=a.data.bankNo,t.birth=new Date(a.data.birth),t.lang=a.data.lang,t.desc=a.data.desc,t.headimg.url=a.data.headimg,t.mainimg.url=a.data.mainimg,t.idcardF.url=a.data.idcardF,t.idcardB.url=a.data.idcardB,t.certimg.url=a.data.certimg)})},methods:{handDeleteImage:function(t){t.file=null,t.base64="",t.url=""},uploadImg:function(t){var a=this;return new l.a(function(e,i){var l=new FormData;l.append("imgType",1),l.append("upload",t),a.$http.post(a.$port.UPLOAD_IMG,l).then(function(t){e(t)})})},handLoadImg:function(t,a,e){var i=this;console.log("handLoadImg",t,a,e),this[e].file=a,this[e].base64=t.currentTarget.result,this.uploadImg(a).then(function(t){200===t.code?i[e].url=t.data:alert(t.msg)})},handSubmit:function(){var t={city:this.city,phone:this.phone,email:this.email,wxId:this.wxId,bankNo:this.bankNo,birth:this.formatBirth,lang:this.lang,desc:this.desc,headimg:this.headimg.url,mainimg:this.mainimg.url,idcardF:this.idcardF.url,idcardB:this.idcardB.url,certimg:this.certimg.url};this.$http.post(this.$port.AUTH_EXPERT,this.$qs.stringify(t)).then(function(t){t.code,alert(t.msg)})}}},u={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("fixed-layout",[e("template",{slot:"header"},[e("topbar",[e("template",{slot:"before"},[e("b",{staticClass:"iconfont icon-back",on:{click:function(a){t.$router.go(-1)}}})]),t._v("\n      俱乐部认证\n      "),e("template",{slot:"after"})],2)],1),t._v(" "),e("mt-field",{staticClass:"right",attrs:{type:"tel",label:"联系方式",placeholder:"请填写正确的手机号码用于收取短信"},model:{value:t.phone,callback:function(a){t.phone=a},expression:"phone"}}),t._v(" "),e("mt-field",{staticClass:"right",attrs:{type:"mail",label:"邮箱",placeholder:"请填写邮箱"},model:{value:t.email,callback:function(a){t.email=a},expression:"email"}}),t._v(" "),e("mt-field",{staticClass:"right",attrs:{label:"所属城市",placeholder:"请输入所在城市"},model:{value:t.city,callback:function(a){t.city=a},expression:"city"}}),t._v(" "),e("mt-field",{staticClass:"right",attrs:{label:"微信号",placeholder:"请填写微信号"},model:{value:t.wxId,callback:function(a){t.wxId=a},expression:"wxId"}}),t._v(" "),e("mt-field",{staticClass:"right",attrs:{type:"number",label:"银行账号",placeholder:"请填写银行账号"},model:{value:t.bankNo,callback:function(a){t.bankNo=a},expression:"bankNo"}}),t._v(" "),e("mt-cell",{attrs:{title:"生日",value:t.formatBirth,"is-link":""},nativeOn:{click:function(a){t.$refs.pickerBirth.open()}}}),t._v(" "),e("mt-datetime-picker",{ref:"pickerBirth",attrs:{type:"date"},model:{value:t.birth,callback:function(a){t.birth=a},expression:"birth"}}),t._v(" "),e("mt-field",{staticClass:"right",attrs:{type:"text",label:"语言",placeholder:"请填写熟悉的语言"},model:{value:t.lang,callback:function(a){t.lang=a},expression:"lang"}}),t._v(" "),e("mt-cell",{attrs:{title:"上传头像"}}),t._v(" "),e("section",{staticClass:"m-uploads"},[e("ul",[e("li",[t.headimg.url||t.headimg.base64?[e("section",{staticClass:"uploadImage"},[e("img",{attrs:{src:t.headimg.url||t.headimg.base64}}),t._v(" "),e("b",{staticClass:"iconfont icon-close",on:{click:function(a){t.handDeleteImage(t.headimg)}}})])]:[e("file-image",{on:{load:function(a,e){return t.handLoadImg(a,e,"headimg")}}})]],2)])]),t._v(" "),e("mt-cell",{attrs:{title:"个人主页图",value:"请上传横图"}}),t._v(" "),e("section",{staticClass:"m-uploads"},[e("ul",[e("li",[t.mainimg.url||t.mainimg.base64?[e("section",{staticClass:"uploadImage"},[e("img",{attrs:{src:t.mainimg.url||t.mainimg.base64}}),t._v(" "),e("b",{staticClass:"iconfont icon-close",on:{click:function(a){t.handDeleteImage(t.mainimg)}}})])]:[e("file-image",{on:{load:function(a,e){return t.handLoadImg(a,e,"mainimg")}}})]],2)])]),t._v(" "),e("mt-cell",{attrs:{title:"个人简介"}}),t._v(" "),e("mt-field",{attrs:{type:"textarea",placeholder:"请简单介绍下自己，会有更多人对您感兴趣哦"},model:{value:t.desc,callback:function(a){t.desc=a},expression:"desc"}}),t._v(" "),e("mt-cell",{attrs:{title:"上传认证材料",value:"请上传您的身份证正反面和教练证正反面"}}),t._v(" "),e("section",{staticClass:"m-uploads"},[e("ul",[e("li",[t.idcardF.url||t.idcardF.base64?[e("section",{staticClass:"uploadImage"},[e("img",{attrs:{src:t.idcardF.url||t.idcardF.base64}}),t._v(" "),e("b",{staticClass:"iconfont icon-close",on:{click:function(a){t.handDeleteImage(t.idcardF)}}})])]:[e("file-image",{on:{load:function(a,e){return t.handLoadImg(a,e,"idcardF")}}})],t._v(" "),e("h4",[t._v("身份证正面")])],2),t._v(" "),e("li",[t.idcardB.url||t.idcardB.base64?[e("section",{staticClass:"uploadImage"},[e("img",{attrs:{src:t.idcardB.url||t.idcardB.base64}}),t._v(" "),e("b",{staticClass:"iconfont icon-close",on:{click:function(a){t.handDeleteImage(t.idcardB)}}})])]:[e("file-image",{on:{load:function(a,e){return t.handLoadImg(a,e,"idcardB")}}})],t._v(" "),e("h4",[t._v("身份证反面")])],2),t._v(" "),e("li",[t.certimg.url||t.certimg.base64?[e("section",{staticClass:"uploadImage"},[e("img",{attrs:{src:t.certimg.url||t.certimg.base64}}),t._v(" "),e("b",{staticClass:"iconfont icon-close",on:{click:function(a){t.handDeleteImage(t.certimg)}}})])]:[e("file-image",{on:{load:function(a,e){return t.handLoadImg(a,e,"certimg")}}})],t._v(" "),e("h4",[t._v("相关证件")])],2)])]),t._v(" "),e("section",{staticClass:"ft"},[e("p",{staticClass:"agreement"},[e("input",{attrs:{type:"checkbox"}}),e("a",{attrs:{href:""}},[t._v("同意《号角平台商户服务协议》")])]),t._v(" "),e("mt-button",{attrs:{type:"primary"},on:{click:t.handSubmit}},[t._v("确认")])],1)],2)},staticRenderFns:[]};var h=e("VU/8")(m,u,!1,function(t){e("6lTK"),e("r56w")},"data-v-b3240d66",null);a.default=h.exports},"6lTK":function(t,a){},r56w:function(t,a){}});
//# sourceMappingURL=10.27dd4855bbe946266ac0.js.map