webpackJsonp([13],{DDGs:function(e,t){},HQMf:function(e,t){},"vA/P":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("//Fk"),l=a.n(i),s=a("Dd8w"),n=a.n(s),c=a("NYxO"),o={name:"club",components:{FileImage:a("rXpJ").a},data:function(){return{CityList:[],clubType:{value:-1,label:"请选择"},sheetClubType:{visible:!1,actions:[]},name:"",city:{value:-1,label:"请选择"},sheetCity:{visible:!1,actions:[]},phone:null,email:"",wxId:"",bankNo:null,desc:"",headimg:{file:null,base64:"",url:""},mainimg:{file:null,base64:"",url:""},idcardF:{file:null,base64:"",url:""},idcardB:{file:null,base64:"",url:""},licenceimg:{file:null,base64:"",url:""}}},computed:n()({},Object(c.c)({ClubType:function(e){return e.config.ClubType}})),watch:{ClubType:{immediate:!0,handler:function(e){var t=this;e.forEach(function(e){t.sheetClubType.actions.push({name:e.label,method:function(){t.clubType=e}})})}},CityList:{immediate:!0,handler:function(e){var t=this;e.forEach(function(e){t.sheetCity.actions.push({name:e.label,method:function(){t.city=e}})})}}},created:function(){for(var e=0;e<10;e++)this.CityList.push({value:"000"+e,label:"城市"+e})},methods:{uploadImg:function(e){var t=this;return new l.a(function(a,i){var l=new FormData;l.append("imgType",1),l.append("upload",e),t.$http.post(t.$port.UPLOAD_IMG,l).then(function(e){a(e)})})},handLoadImg:function(e,t,a){var i=this;console.log("handLoadImg",e,t,a),this[a].file=t,this[a].base64=e.currentTarget.result,this.uploadImg(t).then(function(e){200===e.code?i[a].url=e.data:alert(e.msg)})},handSubmit:function(){var e={clubId:0,clubType:this.clubType.value,name:this.name,city:this.city,phone:this.phone,email:this.email,wxId:this.wxId,bankNo:this.bankNo,headimg:this.headimg.url,mainimg:this.mainimg.url,idcardF:this.idcardF.url,idcardB:this.idcardB.url,licenceimg:this.licenceimg.url,desc:this.desc};this.$http.post(this.$port.AUTH_CLUB,this.$qs.stringify(e)).then(function(e){e.code,alert(e.msg)})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticStyle:{"background-color":"#fff"}},[a("mt-cell",{attrs:{title:"选择俱乐部类型",value:e.clubType.label,"is-link":""},nativeOn:{click:function(t){e.sheetClubType.visible=!0}}}),e._v(" "),a("mt-actionsheet",{attrs:{cancelText:"",actions:e.sheetClubType.actions},model:{value:e.sheetClubType.visible,callback:function(t){e.$set(e.sheetClubType,"visible",t)},expression:"sheetClubType.visible"}}),e._v(" "),a("mt-field",{staticClass:"right",attrs:{label:"俱乐部名称",placeholder:"请输入俱乐部名称"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),e._v(" "),a("mt-cell",{attrs:{title:"选择俱乐部所在城市",value:e.city.label,"is-link":""},nativeOn:{click:function(t){e.sheetCity.visible=!0}}}),e._v(" "),a("mt-actionsheet",{attrs:{cancelText:"",actions:e.sheetCity.actions},model:{value:e.sheetCity.visible,callback:function(t){e.$set(e.sheetCity,"visible",t)},expression:"sheetCity.visible"}}),e._v(" "),a("mt-field",{attrs:{type:"tel",label:"俱乐部联系方式",placeholder:"请填写正确的手机号码用于收取短信"},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),e._v(" "),a("mt-field",{staticClass:"right",attrs:{type:"mail",label:"邮箱",placeholder:"请填写邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),e._v(" "),a("mt-field",{staticClass:"right",attrs:{label:"微信号",placeholder:"请填写微信号"},model:{value:e.wxId,callback:function(t){e.wxId=t},expression:"wxId"}}),e._v(" "),a("mt-field",{staticClass:"right",attrs:{type:"number",label:"银行账号",placeholder:"请填写银行账号"},model:{value:e.bankNo,callback:function(t){e.bankNo=t},expression:"bankNo"}}),e._v(" "),a("mt-cell",{attrs:{title:"俱乐部头像"}}),e._v(" "),a("section",{staticClass:"upload-image"},[a("ul",[a("li",[e.headimg.base64.length?[a("img",{staticClass:"uploadImage",attrs:{src:e.headimg.base64}})]:[a("file-image",{on:{load:function(t,a){return e.handLoadImg(t,a,"headimg")}}})]],2)])]),e._v(" "),a("mt-cell",{attrs:{title:"俱乐部主页图",value:"请上传横图"}}),e._v(" "),a("section",{staticClass:"upload-image"},[a("ul",[a("li",[e.mainimg.base64.length?[a("img",{staticClass:"uploadImage",attrs:{src:e.mainimg.base64}})]:[a("file-image",{on:{load:function(t,a){return e.handLoadImg(t,a,"mainimg")}}})]],2)])]),e._v(" "),a("mt-cell",{attrs:{title:"俱乐部简介"}}),e._v(" "),a("mt-field",{attrs:{type:"textarea",placeholder:"请填写俱乐部简介"},model:{value:e.desc,callback:function(t){e.desc=t},expression:"desc"}}),e._v(" "),a("mt-cell",{attrs:{title:"上传认证材料",value:"请上传您的身份证正反面和营业执照"}}),e._v(" "),a("section",{staticClass:"upload-image"},[a("ul",[a("li",[e.idcardF.base64.length?[a("img",{staticClass:"uploadImage",attrs:{src:e.idcardF.base64}})]:[a("file-image",{on:{load:function(t,a){return e.handLoadImg(t,a,"idcardF")}}})],e._v(" "),a("h4",[e._v("身份证正面")])],2),e._v(" "),a("li",[e.idcardB.base64.length?[a("img",{staticClass:"uploadImage",attrs:{src:e.idcardB.base64}})]:[a("file-image",{on:{load:function(t,a){return e.handLoadImg(t,a,"idcardB")}}})],e._v(" "),a("h4",[e._v("身份证反面")])],2),e._v(" "),a("li",[e.licenceimg.base64.length?[a("img",{staticClass:"uploadImage",attrs:{src:e.licenceimg.base64}})]:[a("file-image",{on:{load:function(t,a){return e.handLoadImg(t,a,"licenceimg")}}})],e._v(" "),a("h4",[e._v("营业执照")])],2)])]),e._v(" "),a("section",{staticClass:"ft"},[e._m(0),e._v(" "),a("mt-button",{attrs:{type:"primary"},on:{click:e.handSubmit}},[e._v("确认")])],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"agreement"},[t("input",{attrs:{type:"checkbox"}}),t("a",{attrs:{href:""}},[this._v("同意《号角平台商户服务协议》")])])}]};var u=a("VU/8")(o,r,!1,function(e){a("HQMf"),a("DDGs")},"data-v-b79c0062",null);t.default=u.exports}});
//# sourceMappingURL=13.4ba6b386302eea9548c2.js.map