webpackJsonp([9],{"00w2":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Dd8w"),a=s.n(i),n=s("Gu7T"),o=s.n(n),c=s("Cz8s"),r=s("KsMP"),l={name:"",components:{"v-Header":c.a,"v-CommentList":r.a},props:{},data:function(){return{actions:[{name:"编辑",method:this.updatePage},{name:"下架",method:this.reclaim}],sheetVisible:!1,isAddPraise:!1,articleId:this.$route.params.contId,article:{},CommentList:[],lastCommentId:0,atUserId:this.$route.params.atUserId}},watch:{atUserId:function(t,e){void 0==t&&(this.CommentList=[],this.getComment())}},computed:{},created:function(){this.getArticle(),this.getComment()},updated:function(){this.atUserId=this.$route.params.atUserId,console.log(this.atUserId)},methods:{getComment:function(){var t=this;this.$http.get(this.$port.COMMENT_LIST_PROT,{params:{contId:this.articleId,lastCommentId:this.lastCommentId}}).then(function(e){var s=e.data;200==s.code&&(t.CommentList=[].concat(o()(t.CommentList),o()(s.data)),console.log(s.data))}).catch(function(t){console.log(t.response.data)})},entry:function(){this.$router.push("commentPage/"+this.articleId+"/0")},showMenu:function(){this.sheetVisible=!0},addPraise:function(){var t=this;console.log("点赞"),1==this.article.like&&this.$http.post(this.$port.ADDLIKE_PROT+"?contId="+this.articleId,{}).then(function(e){200==e.data.code&&t.getArticle()}).catch(function(t){console.log(t.response.data)})},updatePage:function(){console.log("编辑")},reclaim:function(){console.log("下架")},getArticle:function(){var t=this;this.$http.get(this.$port.ARTICLE_PROT,{params:{productId:this.articleId}}).then(function(e){var s=e.data;200==s.code&&(t.article=a()({},t.article,s.data))}).catch(function(t){console.log(t.response.data)})}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade",mode:"in-out"}},[s("div",{staticClass:"articleDetailsPage"},[s("v-Header",{staticClass:"head"},[s("span",{staticClass:"headText",attrs:{slot:"text"},domProps:{innerHTML:t._s(this.article.title)},slot:"text"}),t._v(" "),s("mt-button",{staticClass:"more",attrs:{slot:"right",icon:"more"},on:{click:t.showMenu},slot:"right"})],1),t._v(" "),s("div",{attrs:{id:"articleScrollCon"}},[s("div",[this.article.title?s("div",{staticClass:"articleDetailsCon"},[s("div",{staticClass:"articleTextCon"},[s("img",{attrs:{src:this.article.preimg}}),t._v(" "),s("div",{staticClass:"articleTitleCon",domProps:{innerHTML:t._s(this.article.title)}}),t._v("\n\t\t\t\t\t\t"+t._s(this.article.cont)+"\n\t\t\t\t\t")])]):t._e(),t._v(" "),this.article.like?s("div",{staticClass:"giveTheThumbsUp",on:{click:t.addPraise}},[s("div",{staticClass:"addPraiseBtn"}),t._v(t._s(this.article.like)+"\n\t\t\t\t")]):t._e(),t._v(" "),s("hr"),t._v(" "),s("v-CommentList",{attrs:{CommentList:t.CommentList}})],1)]),t._v(" "),s("div",{staticClass:"commentInputCon"},[s("input",{attrs:{type:"text",placeholder:"快来说点什么吧！"}}),t._v(" "),s("div",{staticClass:"inputBtn",on:{click:t.entry}}),t._v(" "),s("div",{class:["addPraiseBtn",2==this.article.like?"active2":"active1"],on:{click:t.addPraise}})]),t._v(" "),s("mt-actionsheet",{attrs:{actions:t.actions},model:{value:t.sheetVisible,callback:function(e){t.sheetVisible=e},expression:"sheetVisible"}}),t._v(" "),s("router-view")],1)])},staticRenderFns:[]};var m=s("VU/8")(l,d,!1,function(t){s("jjmp")},"data-v-64760152",null);e.default=m.exports},KsMP:function(t,e,s){"use strict";var i={name:"",props:["CommentList"],data:function(){return{}},methods:{entry:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;"replyTips"==event.target.id||this.$router.push("commentPage/"+(t||this.$route.params.contId)+"/"+e)}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"commentlistsCon"},[s("div",{staticClass:"commentHeader"},[t._v("评论")]),t._v(" "),t._l(t.CommentList,function(e,i){return s("div",{key:e.id},[s("div",{staticClass:"commentlist"},[s("div",{staticClass:"headImg",style:{backgroundImage:"url("+e.headimg+")"}}),t._v(" "),s("div",{staticClass:"listCon",on:{click:function(s){t.entry(e.commentId,e.userId)}}},[s("div",{staticClass:"name",domProps:{textContent:t._s(e.nickname)}}),t._v(" "),s("div",{staticClass:"text",domProps:{textContent:t._s(e.comment)}}),t._v(" "),e.replyList?s("div",t._l(e.replyList,function(e){return s("div",{key:e.name,staticClass:"otherList"},[s("div",{staticClass:"name",domProps:{textContent:t._s("| "+e.nickname)}}),t._v(" "),s("div",{staticClass:"text",domProps:{textContent:t._s(e.comment)}})])})):t._e(),t._v(" "),e.replyNum>2?s("div",{attrs:{id:"replyTips"}},[t._v("查看全部"+t._s(e.replyNum)+"条回复>")]):t._e()])]),t._v(" "),i!=t.CommentList.length-1?s("hr"):t._e()])}),t._v(" "),0==t.CommentList.length?s("div",{staticClass:"CommentTips",on:{click:function(e){t.entry()}}},[t._v("暂时没有评论,点击添加你的评论吧^_^")]):t._e()],2)},staticRenderFns:[]};var n=s("VU/8")(i,a,!1,function(t){s("TCaw")},"data-v-8b271328",null);e.a=n.exports},TCaw:function(t,e){},jjmp:function(t,e){}});
//# sourceMappingURL=9.551196697b185f2958d3.js.map