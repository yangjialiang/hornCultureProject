{"version":3,"sources":["webpack:///src/views/auth/club.vue","webpack:///./src/views/auth/club.vue?fa38","webpack:///./src/views/auth/club.vue"],"names":["name","components","FixedLayout","fixed_layout","FileImage2","file_image2","CropperBox","cropper_box","v-Header","header","data","cropper","dialog","src","item","size","width","height","agree","clubType","value","label","sheetClubType","visible","actions","city","phone","email","wxId","bankNo","desc","headimg","file","url","mainimg","idcardF","idcardB","licenceimg","computed","extends_default","Object","vuex_esm","ClubType","state","config","watch","immediate","handler","_this","this","Array","forEach","e","push","method","created","_this2","promise_default","a","resolve","reject","$route","query","clubId","$http","get","$port","MY_CLUB","params","auditStatus","then","res","code","localStorage","getItem","setInterval","setItem","methods","handDeleteImage","obj","handLoadImg","prop","_this3","$commons","compressorImage","setTimeout","window","URL","createObjectURL","uploadImage","handCropperDone","_this4","getCroppedCanvas","toBlob","blob","handSubmit","_this5","post","$qs","stringify","alert","$router","msg","auth_club","render","_vm","_h","$createElement","_c","_self","slot","staticClass","attrs","_v","title","is-link","nativeOn","click","$event","cancelText","model","callback","$$v","$set","expression","placeholder","type","on","load","delete","directives","rawName","ar","cancel","done","domProps","checked","isArray","_i","change","$$a","$$el","target","$$c","$$i","concat","slice","href","disabled","staticRenderFns","Component","__webpack_require__","normalizeComponent","club","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/17.d936d7adcbedd5b4783f.js","sourcesContent":["<template>\r\n  <fixed-layout>\r\n    <template slot=\"header\">\r\n      <v-Header class=\"head\">\r\n        <span slot='text'>俱乐部认证</span>\r\n      </v-Header>\r\n    </template>\r\n    <mt-cell\r\n      title=\"选择俱乐部类型\"\r\n      :value=\"clubType.label\"\r\n      is-link\r\n      @click.native=\"sheetClubType.visible=true\">\r\n    </mt-cell>\r\n    <mt-actionsheet\r\n      cancelText=\"\"\r\n      :actions=\"sheetClubType.actions\"\r\n      v-model=\"sheetClubType.visible\">\r\n    </mt-actionsheet>\r\n    <mt-field label=\"俱乐部名称\" placeholder=\"请输入俱乐部名称\" class=\"right\" v-model=\"name\"></mt-field>\r\n    <mt-field label=\"俱乐部所在城市\" placeholder=\"请输入俱乐部所在城市\" class=\"right\" v-model=\"city\"></mt-field>\r\n    <mt-field type=\"tel\" label=\"俱乐部联系方式\" placeholder=\"请填写正确的手机号码\" class=\"right\" v-model=\"phone\"></mt-field>\r\n    <mt-field type=\"mail\" label=\"邮箱\" placeholder=\"请填写邮箱\" class=\"right\" v-model=\"email\"></mt-field>\r\n    <mt-field label=\"微信号\" placeholder=\"请填写微信号\" class=\"right\" v-model=\"wxId\"></mt-field>\r\n    <mt-field type=\"number\" label=\"银行账号\" placeholder=\"请填写银行账号\" class=\"right\" v-model=\"bankNo\"></mt-field>\r\n    <mt-cell title=\"俱乐部头像\"></mt-cell>\r\n    <section class=\"m-uploads\">\r\n      <ul>\r\n        <li>\r\n          <file-image2\r\n            :src=\"headimg.url\"\r\n            @load=\"(e,file)=>handLoadImg(e,file,'headimg')\"\r\n            @delete=\"handDeleteImage(headimg)\">\r\n          </file-image2>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n    <mt-cell title=\"俱乐部主页图\" value=\"请上传横图\"></mt-cell>\r\n    <section class=\"m-uploads\">\r\n      <ul>\r\n        <li>\r\n          <file-image2\r\n            :src=\"mainimg.url\"\r\n            @load=\"(e,file)=>handLoadImg(e,file,'mainimg')\"\r\n            @delete=\"handDeleteImage(mainimg)\">\r\n          </file-image2>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n    <mt-cell title=\"俱乐部简介\"></mt-cell>\r\n    <mt-field type=\"textarea\" placeholder=\"请填写俱乐部简介\" v-model=\"desc\"></mt-field>\r\n    <mt-cell title=\"上传认证材料\" value=\"身份证正反面和营业执照\"></mt-cell>\r\n    <section class=\"m-uploads\">\r\n      <ul>\r\n        <li>\r\n          <file-image2\r\n            :src=\"idcardF.url\"\r\n            @load=\"(e,file)=>handLoadImg(e,file,'idcardF')\"\r\n            @delete=\"handDeleteImage(idcardF)\">\r\n          </file-image2>\r\n          <h4>身份证正面</h4>\r\n        </li>\r\n        <li>\r\n          <file-image2\r\n            :src=\"idcardB.url\"\r\n            @load=\"(e,file)=>handLoadImg(e,file,'idcardB')\"\r\n            @delete=\"handDeleteImage(idcardB)\">\r\n          </file-image2>\r\n          <h4>身份证反面</h4>\r\n        </li>\r\n        <li>\r\n          <file-image2\r\n            :src=\"licenceimg.url\"\r\n            @load=\"(e,file)=>handLoadImg(e,file,'licenceimg')\"\r\n            @delete=\"handDeleteImage(licenceimg)\">\r\n          </file-image2>\r\n          <h4>营业执照</h4>\r\n        </li>\r\n      </ul>\r\n    </section>\r\n    <cropper-box\r\n      v-show=\"cropper.dialog\"\r\n      class=\"cropper-box\"\r\n      :src=\"cropper.src\"\r\n      :ar=\"cropper.size.width/cropper.size.height\"\r\n      @cancel=\"cropper.dialog = false\"\r\n      @done=\"handCropperDone\">\r\n    </cropper-box>\r\n    <section class=\"ft\">\r\n      <p class=\"agreement\"><input type=\"checkbox\" v-model=\"agree\"/><a href=\"\">同意《号角平台商户服务协议》</a></p>\r\n      <mt-button :disabled=\"!agree\" type=\"primary\" @click=\"handSubmit\">确认</mt-button>\r\n    </section>\r\n  </fixed-layout>\r\n</template>\r\n\r\n<script>\r\n  import Header from '../../components/header'\r\n  import { mapState } from 'vuex'\r\n  import FixedLayout from '@/components/fixed-layout'\r\n  import FileImage2 from '@/components/file-image2.vue'\r\n  import CropperBox from '@/components/cropper-box.vue'\r\n\r\n  export default {\r\n    name: 'club',\r\n    components: {\r\n      FixedLayout,\r\n      FileImage2,\r\n      CropperBox,\r\n      'v-Header': Header,\r\n    },\r\n    data () {\r\n      return {\r\n        cropper: {\r\n          dialog: false,\r\n          src: '',\r\n          item: null,\r\n          size: {\r\n            width: 1000,\r\n            height: 1000,\r\n          },\r\n        },\r\n        agree: false,\r\n        clubType: {\r\n          value: -1,\r\n          label: '请选择'\r\n        },\r\n        sheetClubType: {\r\n          visible: false,\r\n          actions: []\r\n        },\r\n        name: '',\r\n        city: '',\r\n        phone: null,\r\n        email: '',\r\n        wxId: '',\r\n        bankNo: null,\r\n        desc: '',\r\n        headimg: {\r\n          file: null,\r\n\r\n          url: ''\r\n        },\r\n        mainimg: {\r\n          file: null,\r\n\r\n          url: ''\r\n        },\r\n        idcardF: {\r\n          file: null,\r\n\r\n          url: ''\r\n        },\r\n        idcardB: {\r\n          file: null,\r\n\r\n          url: ''\r\n        },\r\n        licenceimg: {\r\n          file: null,\r\n\r\n          url: ''\r\n        },\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState({\r\n        ClubType: state => state.config.ClubType,\r\n      })\r\n    },\r\n    watch: {\r\n      ClubType: {\r\n        immediate: true,\r\n        handler (value) {\r\n          if (value instanceof Array) {\r\n            value.forEach(e => {\r\n              this.sheetClubType.actions.push({\r\n                name: e.label,\r\n                method: () => {\r\n                  this.clubType = e\r\n                }\r\n              })\r\n            })\r\n          }\r\n        }\r\n      },\r\n    },\r\n    created () {\r\n      new Promise((resolve, reject) => {\r\n        if (this.$route.query.clubId) {\r\n          this.$http.get(this.$port.MY_CLUB, {\r\n            params: {\r\n              clubId: this.$route.query.clubId,\r\n              auditStatus: 0,\r\n            }\r\n          }).then(res => {\r\n            res.data = res.data || {}\r\n            if (res.code === 200) {\r\n              this.clubType.value = res.data.clubType\r\n              this.name = res.data.name\r\n              this.city = res.data.city\r\n              this.phone = res.data.phone\r\n              this.email = res.data.email\r\n              this.wxId = res.data.wxId\r\n              this.bankNo = res.data.bankNo\r\n              this.desc = res.data.desc\r\n              this.headimg.url = res.data.headimg\r\n              this.mainimg.url = res.data.mainimg\r\n              this.idcardF.url = res.data.idcardF\r\n              this.idcardB.url = res.data.idcardB\r\n              this.licenceimg.url = res.data.licenceimg\r\n            }\r\n            resolve()\r\n          })\r\n        } else {\r\n          let name = 'club_'\r\n          this.name = localStorage.getItem(`${name}name`)\r\n          this.city = localStorage.getItem(`${name}city`)\r\n          this.phone = localStorage.getItem(`${name}phone`)\r\n          this.email = localStorage.getItem(`${name}email`)\r\n          this.wxId = localStorage.getItem(`${name}wxId`)\r\n          this.bankNo = localStorage.getItem(`${name}bankNo`)\r\n          this.desc = localStorage.getItem(`${name}desc`)\r\n          resolve()\r\n        }\r\n      }).then(() => {\r\n        let name = 'club_'\r\n        setInterval(() => {\r\n          localStorage.setItem(`${name}name`, this.name || '')\r\n          localStorage.setItem(`${name}city`, this.city || '')\r\n          localStorage.setItem(`${name}phone`, this.phone || '')\r\n          localStorage.setItem(`${name}email`, this.email || '')\r\n          localStorage.setItem(`${name}wxId`, this.wxId || '')\r\n          localStorage.setItem(`${name}bankNo`, this.bankNo || '')\r\n          localStorage.setItem(`${name}desc`, this.desc || '')\r\n        }, 200)\r\n      })\r\n    },\r\n    methods: {\r\n      handDeleteImage (obj) {\r\n        obj.file = null\r\n        obj.url = ''\r\n      },\r\n      handLoadImg (e, file, prop) {\r\n        this.cropper.item = this[prop]\r\n        this.cropper.file = file\r\n        this.$commons.compressorImage(file).then(res => {\r\n          if (prop === 'headimg' ||\r\n            prop === 'mainimg') {\r\n            this.cropper.dialog = true\r\n            if (prop === 'headimg') {\r\n              this.cropper.size.width = 200\r\n              this.cropper.size.height = 200\r\n            } else if (prop === 'mainimg') {\r\n              this.cropper.size.width = 750\r\n              this.cropper.size.height = 750 / 1.5\r\n            }\r\n            setTimeout(() => {\r\n              this.cropper.src = window.URL.createObjectURL(res)\r\n            }, 200)\r\n          } else {\r\n            this.cropper.size.width = 1000\r\n            this.cropper.size.height = 1000\r\n            this.$commons.uploadImage(this.cropper.file).then(res => {\r\n              if (res.code === 200) {\r\n                this.cropper.item.url = res.data\r\n              }\r\n            })\r\n          }\r\n        })\r\n      },\r\n      handCropperDone (cropper) {\r\n        cropper.getCroppedCanvas({\r\n          width: this.cropper.size.width,\r\n          height: this.cropper.size.height,\r\n        }).toBlob(blob => {\r\n          this.$commons.uploadImage(blob).then(res => {\r\n            if (res.code === 200) {\r\n              this.cropper.item.url = res.data\r\n              this.cropper.dialog = false\r\n            }\r\n          })\r\n        })\r\n      },\r\n      handSubmit () {\r\n        if (!this.agree) {\r\n          alert('请阅读并同意协议条款')\r\n          return\r\n        }\r\n        let params = {\r\n          clubId: 0,\r\n          clubType: this.clubType.value,\r\n          name: this.name,\r\n          city: this.city,\r\n          phone: this.phone,\r\n          email: this.email,\r\n          wxId: this.wxId,\r\n          bankNo: this.bankNo,\r\n          headimg: this.headimg.url,\r\n          mainimg: this.mainimg.url,\r\n          idcardF: this.idcardF.url,\r\n          idcardB: this.idcardB.url,\r\n          licenceimg: this.licenceimg.url,\r\n          desc: this.desc\r\n        }\r\n        this.$http.post(this.$port.MY_CLUB, this.$qs.stringify(params)).then(res => {\r\n          if (res.code === 200) {\r\n            alert('资料提交成功')\r\n            this.$router.push('/')\r\n          } else {\r\n            alert(res.msg)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style lang=\"scss\">\r\n</style>\r\n<style lang=\"scss\" scoped>\r\n  .m-uploads {\r\n    background-color: #fff;\r\n    padding: 0 10px;\r\n    ul {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      li {\r\n        position: relative;\r\n        flex: 0 0 33%;\r\n        b {\r\n          background-color: rgba(0, 0, 0, 0.5);\r\n          text-align: center;\r\n          font-weight: 400;\r\n          font-size: 8px;\r\n          color: #fff;\r\n          width: 20px;\r\n          height: 20px;\r\n          position: absolute;\r\n          right: 0;\r\n          top: 0;\r\n        }\r\n        h4 {\r\n          font-size: 12px;\r\n          text-align: center;\r\n          font-weight: 400;\r\n          color: #333;\r\n          padding-top: 5px;\r\n        }\r\n      }\r\n    }\r\n    .ui-upload {\r\n      width: 110px;\r\n      height: 110px;\r\n    }\r\n  }\r\n\r\n  .uploadImage {\r\n    width: 110px;\r\n    height: 110px;\r\n    border: solid #e5e5e5 1px;\r\n    position: relative;\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n      object-fit: contain;\r\n      display: block;\r\n    }\r\n  }\r\n\r\n  .ft {\r\n    padding: 15px 10px;\r\n    border-top: solid #e5e5e5 1px;\r\n    .agreement {\r\n      font-size: 12px;\r\n      margin-bottom: 10px;\r\n      input[type='checkbox'] {\r\n        margin-right: 5px;\r\n        vertical-align: middle;\r\n      }\r\n    }\r\n    .mint-button {\r\n      width: 100%;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/auth/club.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('fixed-layout',[_c('template',{slot:\"header\"},[_c('v-Header',{staticClass:\"head\"},[_c('span',{attrs:{\"slot\":\"text\"},slot:\"text\"},[_vm._v(\"俱乐部认证\")])])],1),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"选择俱乐部类型\",\"value\":_vm.clubType.label,\"is-link\":\"\"},nativeOn:{\"click\":function($event){_vm.sheetClubType.visible=true}}}),_vm._v(\" \"),_c('mt-actionsheet',{attrs:{\"cancelText\":\"\",\"actions\":_vm.sheetClubType.actions},model:{value:(_vm.sheetClubType.visible),callback:function ($$v) {_vm.$set(_vm.sheetClubType, \"visible\", $$v)},expression:\"sheetClubType.visible\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"right\",attrs:{\"label\":\"俱乐部名称\",\"placeholder\":\"请输入俱乐部名称\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"right\",attrs:{\"label\":\"俱乐部所在城市\",\"placeholder\":\"请输入俱乐部所在城市\"},model:{value:(_vm.city),callback:function ($$v) {_vm.city=$$v},expression:\"city\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"right\",attrs:{\"type\":\"tel\",\"label\":\"俱乐部联系方式\",\"placeholder\":\"请填写正确的手机号码\"},model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"right\",attrs:{\"type\":\"mail\",\"label\":\"邮箱\",\"placeholder\":\"请填写邮箱\"},model:{value:(_vm.email),callback:function ($$v) {_vm.email=$$v},expression:\"email\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"right\",attrs:{\"label\":\"微信号\",\"placeholder\":\"请填写微信号\"},model:{value:(_vm.wxId),callback:function ($$v) {_vm.wxId=$$v},expression:\"wxId\"}}),_vm._v(\" \"),_c('mt-field',{staticClass:\"right\",attrs:{\"type\":\"number\",\"label\":\"银行账号\",\"placeholder\":\"请填写银行账号\"},model:{value:(_vm.bankNo),callback:function ($$v) {_vm.bankNo=$$v},expression:\"bankNo\"}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"俱乐部头像\"}}),_vm._v(\" \"),_c('section',{staticClass:\"m-uploads\"},[_c('ul',[_c('li',[_c('file-image2',{attrs:{\"src\":_vm.headimg.url},on:{\"load\":function (e,file){ return _vm.handLoadImg(e,file,'headimg'); },\"delete\":function($event){_vm.handDeleteImage(_vm.headimg)}}})],1)])]),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"俱乐部主页图\",\"value\":\"请上传横图\"}}),_vm._v(\" \"),_c('section',{staticClass:\"m-uploads\"},[_c('ul',[_c('li',[_c('file-image2',{attrs:{\"src\":_vm.mainimg.url},on:{\"load\":function (e,file){ return _vm.handLoadImg(e,file,'mainimg'); },\"delete\":function($event){_vm.handDeleteImage(_vm.mainimg)}}})],1)])]),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"俱乐部简介\"}}),_vm._v(\" \"),_c('mt-field',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请填写俱乐部简介\"},model:{value:(_vm.desc),callback:function ($$v) {_vm.desc=$$v},expression:\"desc\"}}),_vm._v(\" \"),_c('mt-cell',{attrs:{\"title\":\"上传认证材料\",\"value\":\"身份证正反面和营业执照\"}}),_vm._v(\" \"),_c('section',{staticClass:\"m-uploads\"},[_c('ul',[_c('li',[_c('file-image2',{attrs:{\"src\":_vm.idcardF.url},on:{\"load\":function (e,file){ return _vm.handLoadImg(e,file,'idcardF'); },\"delete\":function($event){_vm.handDeleteImage(_vm.idcardF)}}}),_vm._v(\" \"),_c('h4',[_vm._v(\"身份证正面\")])],1),_vm._v(\" \"),_c('li',[_c('file-image2',{attrs:{\"src\":_vm.idcardB.url},on:{\"load\":function (e,file){ return _vm.handLoadImg(e,file,'idcardB'); },\"delete\":function($event){_vm.handDeleteImage(_vm.idcardB)}}}),_vm._v(\" \"),_c('h4',[_vm._v(\"身份证反面\")])],1),_vm._v(\" \"),_c('li',[_c('file-image2',{attrs:{\"src\":_vm.licenceimg.url},on:{\"load\":function (e,file){ return _vm.handLoadImg(e,file,'licenceimg'); },\"delete\":function($event){_vm.handDeleteImage(_vm.licenceimg)}}}),_vm._v(\" \"),_c('h4',[_vm._v(\"营业执照\")])],1)])]),_vm._v(\" \"),_c('cropper-box',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.cropper.dialog),expression:\"cropper.dialog\"}],staticClass:\"cropper-box\",attrs:{\"src\":_vm.cropper.src,\"ar\":_vm.cropper.size.width/_vm.cropper.size.height},on:{\"cancel\":function($event){_vm.cropper.dialog = false},\"done\":_vm.handCropperDone}}),_vm._v(\" \"),_c('section',{staticClass:\"ft\"},[_c('p',{staticClass:\"agreement\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.agree),expression:\"agree\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.agree)?_vm._i(_vm.agree,null)>-1:(_vm.agree)},on:{\"change\":function($event){var $$a=_vm.agree,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.agree=$$a.concat([$$v]))}else{$$i>-1&&(_vm.agree=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.agree=$$c}}}}),_c('a',{attrs:{\"href\":\"\"}},[_vm._v(\"同意《号角平台商户服务协议》\")])]),_vm._v(\" \"),_c('mt-button',{attrs:{\"disabled\":!_vm.agree,\"type\":\"primary\"},on:{\"click\":_vm.handSubmit}},[_vm._v(\"确认\")])],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-23ca9d0a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/auth/club.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23ca9d0a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./club.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-23ca9d0a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./club.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./club.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./club.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-23ca9d0a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./club.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-23ca9d0a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/auth/club.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}