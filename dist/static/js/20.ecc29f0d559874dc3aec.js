webpackJsonp([20],{KC4o:function(e,a){},aWem:function(e,a){},"vA/P":function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=t("//Fk"),l=t.n(i),n=t("Dd8w"),c=t.n(n),s=t("NYxO"),o=t("TrLn"),d=t("looZ"),r=t("rXpJ"),u={name:"club",components:{FixedLayout:o.a,Topbar:d.a,FileImage:r.a},data:function(){return{clubType:{value:-1,label:"请选择"},sheetClubType:{visible:!1,actions:[]},name:"",city:"",phone:null,email:"",wxId:"",bankNo:null,desc:"",headimg:{file:null,base64:"",url:""},mainimg:{file:null,base64:"",url:""},idcardF:{file:null,base64:"",url:""},idcardB:{file:null,base64:"",url:""},licenceimg:{file:null,base64:"",url:""}}},computed:c()({},Object(s.c)({ClubType:function(e){return e.config.ClubType}})),watch:{ClubType:{immediate:!0,handler:function(e){var a=this;e.forEach(function(e){a.sheetClubType.actions.push({name:e.label,method:function(){a.clubType=e}})})}}},created:function(){var e=this;this.$route.query.clubId&&this.$http.get(this.$port.AUTH_CLUB,{params:{clubId:this.$route.query.clubId}}).then(function(a){a.code=200,a.data={city:123,headimg:"https://www.baidu.com/img/bd_logo1.png?where=super",mainimg:"https://www.baidu.com/img/bd_logo1.png?where=super",idcardF:"https://www.baidu.com/img/bd_logo1.png?where=super",idcardB:"https://www.baidu.com/img/bd_logo1.png?where=super",licenceimg:"https://www.baidu.com/img/bd_logo1.png?where=super"},200===a.code&&(e.clubType.value=a.data.clubType,e.name=a.data.name,e.city=a.data.city,e.phone=a.data.phone,e.email=a.data.email,e.wxId=a.data.wxId,e.bankNo=a.data.bankNo,e.desc=a.data.desc,e.headimg.url=a.data.headimg,e.mainimg.url=a.data.mainimg,e.idcardF.url=a.data.idcardF,e.idcardB.url=a.data.idcardB,e.licenceimg.url=a.data.licenceimg)})},methods:{handDeleteImage:function(e){e.file=null,e.base64="",e.url=""},uploadImg:function(e){var a=this;return new l.a(function(t,i){var l=new FormData;l.append("imgType",1),l.append("upload",e),a.$http.post(a.$port.UPLOAD_IMG,l).then(function(e){t(e)})})},handLoadImg:function(e,a,t){var i=this;console.log("handLoadImg",e,a,t),this[t].file=a,this[t].base64=e.currentTarget.result,this.uploadImg(a).then(function(e){200===e.code?i[t].url=e.data:alert(e.msg)})},handSubmit:function(){var e={clubId:0,clubType:this.clubType.value,name:this.name,city:this.city,phone:this.phone,email:this.email,wxId:this.wxId,bankNo:this.bankNo,headimg:this.headimg.url,mainimg:this.mainimg.url,idcardF:this.idcardF.url,idcardB:this.idcardB.url,licenceimg:this.licenceimg.url,desc:this.desc};this.$http.post(this.$port.AUTH_CLUB,this.$qs.stringify(e)).then(function(e){e.code,alert(e.msg)})}}},m={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("fixed-layout",[t("template",{slot:"header"},[t("mt-header",{attrs:{title:"俱乐部认证"}},[t("router-link",{attrs:{slot:"left",to:"/"},slot:"left"},[t("mt-button",{attrs:{icon:"back"},on:{click:function(a){e.$router.go(-1)}}})],1)],1)],1),e._v(" "),t("mt-cell",{attrs:{title:"选择俱乐部类型",value:e.clubType.label,"is-link":""},nativeOn:{click:function(a){e.sheetClubType.visible=!0}}}),e._v(" "),t("mt-actionsheet",{attrs:{cancelText:"",actions:e.sheetClubType.actions},model:{value:e.sheetClubType.visible,callback:function(a){e.$set(e.sheetClubType,"visible",a)},expression:"sheetClubType.visible"}}),e._v(" "),t("mt-field",{staticClass:"right",attrs:{label:"俱乐部名称",placeholder:"请输入俱乐部名称"},model:{value:e.name,callback:function(a){e.name=a},expression:"name"}}),e._v(" "),t("mt-field",{staticClass:"right",attrs:{label:"俱乐部所在城市",placeholder:"请输入俱乐部所在城市"},model:{value:e.city,callback:function(a){e.city=a},expression:"city"}}),e._v(" "),t("mt-field",{attrs:{type:"tel",label:"俱乐部联系方式",placeholder:"请填写正确的手机号码用于收取短信"},model:{value:e.phone,callback:function(a){e.phone=a},expression:"phone"}}),e._v(" "),t("mt-field",{staticClass:"right",attrs:{type:"mail",label:"邮箱",placeholder:"请填写邮箱"},model:{value:e.email,callback:function(a){e.email=a},expression:"email"}}),e._v(" "),t("mt-field",{staticClass:"right",attrs:{label:"微信号",placeholder:"请填写微信号"},model:{value:e.wxId,callback:function(a){e.wxId=a},expression:"wxId"}}),e._v(" "),t("mt-field",{staticClass:"right",attrs:{type:"number",label:"银行账号",placeholder:"请填写银行账号"},model:{value:e.bankNo,callback:function(a){e.bankNo=a},expression:"bankNo"}}),e._v(" "),t("mt-cell",{attrs:{title:"俱乐部头像"}}),e._v(" "),t("section",{staticClass:"m-uploads"},[t("ul",[t("li",[e.headimg.url||e.headimg.base64?[t("section",{staticClass:"uploadImage"},[t("img",{attrs:{src:e.headimg.url||e.headimg.base64}}),e._v(" "),t("b",{staticClass:"iconfont icon-close",on:{click:function(a){e.handDeleteImage(e.headimg)}}})])]:[t("file-image",{on:{load:function(a,t){return e.handLoadImg(a,t,"headimg")}}})]],2)])]),e._v(" "),t("mt-cell",{attrs:{title:"俱乐部主页图",value:"请上传横图"}}),e._v(" "),t("section",{staticClass:"m-uploads"},[t("ul",[t("li",[e.mainimg.url||e.mainimg.base64?[t("section",{staticClass:"uploadImage"},[t("img",{attrs:{src:e.mainimg.url||e.mainimg.base64}}),e._v(" "),t("b",{staticClass:"iconfont icon-close",on:{click:function(a){e.handDeleteImage(e.mainimg)}}})])]:[t("file-image",{on:{load:function(a,t){return e.handLoadImg(a,t,"mainimg")}}})]],2)])]),e._v(" "),t("mt-cell",{attrs:{title:"俱乐部简介"}}),e._v(" "),t("mt-field",{attrs:{type:"textarea",placeholder:"请填写俱乐部简介"},model:{value:e.desc,callback:function(a){e.desc=a},expression:"desc"}}),e._v(" "),t("mt-cell",{attrs:{title:"上传认证材料",value:"请上传您的身份证正反面和营业执照"}}),e._v(" "),t("section",{staticClass:"m-uploads"},[t("ul",[t("li",[e.mainimg.url||e.mainimg.base64?[t("section",{staticClass:"uploadImage"},[t("img",{attrs:{src:e.mainimg.url||e.mainimg.base64}}),e._v(" "),t("b",{staticClass:"iconfont icon-close",on:{click:function(a){e.handDeleteImage(e.mainimg)}}})])]:[t("file-image",{on:{load:function(a,t){return e.handLoadImg(a,t,"idcardF")}}})],e._v(" "),t("h4",[e._v("身份证正面")])],2),e._v(" "),t("li",[e.idcardB.url||e.idcardB.base64?[t("section",{staticClass:"uploadImage"},[t("img",{attrs:{src:e.idcardB.url||e.idcardB.base64}}),e._v(" "),t("b",{staticClass:"iconfont icon-close",on:{click:function(a){e.handDeleteImage(e.idcardB)}}})])]:[t("file-image",{on:{load:function(a,t){return e.handLoadImg(a,t,"idcardB")}}})],e._v(" "),t("h4",[e._v("身份证反面")])],2),e._v(" "),t("li",[e.licenceimg.url||e.licenceimg.base64?[t("section",{staticClass:"uploadImage"},[t("img",{attrs:{src:e.licenceimg.url||e.licenceimg.base64}}),e._v(" "),t("b",{staticClass:"iconfont icon-close",on:{click:function(a){e.handDeleteImage(e.licenceimg)}}})])]:[t("file-image",{on:{load:function(a,t){return e.handLoadImg(a,t,"licenceimg")}}})],e._v(" "),t("h4",[e._v("营业执照")])],2)])]),e._v(" "),t("section",{staticClass:"ft"},[t("p",{staticClass:"agreement"},[t("input",{attrs:{type:"checkbox"}}),t("a",{attrs:{href:""}},[e._v("同意《号角平台商户服务协议》")])]),e._v(" "),t("mt-button",{attrs:{type:"primary"},on:{click:e.handSubmit}},[e._v("确认")])],1)],2)},staticRenderFns:[]};var h=t("VU/8")(u,m,!1,function(e){t("KC4o"),t("aWem")},"data-v-10a70fb4",null);a.default=h.exports}});
//# sourceMappingURL=20.ecc29f0d559874dc3aec.js.map